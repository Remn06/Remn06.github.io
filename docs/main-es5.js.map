{"version":3,"sources":["webpack:///./src/app/ui/app-root/app.component.html","webpack:///./src/app/ui/html-renderer/game-object/game-object.component.html","webpack:///./src/app/ui/html-renderer/html-renderer.component.html","webpack:///./src/app/ui/svg-renderer/svg-renderer.component.html","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/_games/impossible-dino/components/cloud-shifter-component.ts","webpack:///./src/app/_games/impossible-dino/components/dino-clock-game-component.ts","webpack:///./src/app/_games/impossible-dino/components/dino-jumper-component.ts","webpack:///./src/app/_games/impossible-dino/components/dino-lives-component.ts","webpack:///./src/app/_games/impossible-dino/components/dino-score-counter-component.ts","webpack:///./src/app/_games/impossible-dino/components/ground-shifter-component.ts","webpack:///./src/app/_games/impossible-dino/components/math/math-answer-component.ts","webpack:///./src/app/_games/impossible-dino/components/math/math-producer-component.ts","webpack:///./src/app/_games/impossible-dino/components/math/math-question-component.ts","webpack:///./src/app/_games/impossible-dino/components/math/math-score-counter-component.ts","webpack:///./src/app/_games/impossible-dino/data/impossible-dino-data.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/business/common/angle.ts","webpack:///./src/app/business/common/guid.ts","webpack:///./src/app/business/common/logger.ts","webpack:///./src/app/business/common/name-value-pair.ts","webpack:///./src/app/business/common/rect.ts","webpack:///./src/app/business/common/timer.ts","webpack:///./src/app/business/common/v-math.ts","webpack:///./src/app/business/common/vector2.ts","webpack:///./src/app/business/core/factory/component-factory.ts","webpack:///./src/app/business/core/factory/game-object-factory.ts","webpack:///./src/app/business/core/factory/transform-factory.ts","webpack:///./src/app/business/core/game-object-collection.ts","webpack:///./src/app/business/core/http/rest-client.ts","webpack:///./src/app/business/core/transform-calculate-system.ts","webpack:///./src/app/business/events/event-message.ts","webpack:///./src/app/business/game-components/core/animate-game-component/animate-game-component.ts","webpack:///./src/app/business/game-components/core/base/components-registry.ts","webpack:///./src/app/business/game-components/core/base/game-component.ts","webpack:///./src/app/business/game-components/core/collision-game-component.ts","webpack:///./src/app/business/game-components/core/html-renderer-game-component/game-object-render-info.ts","webpack:///./src/app/business/game-components/core/html-renderer-game-component/html-renderer-game-component.ts","webpack:///./src/app/business/game-components/svg-renderer-game-component/svg-element-type.ts","webpack:///./src/app/business/game-components/svg-renderer-game-component/svg-path-element.ts","webpack:///./src/app/business/game-components/svg-renderer-game-component/svg-renderer-game-component.ts","webpack:///./src/app/business/game-components/user/reset-to-left.component.ts","webpack:///./src/app/business/game-components/user/rotate.component.ts","webpack:///./src/app/business/game-components/user/shift-right.component.ts","webpack:///./src/app/business/game-components/user/show-hide-game-object-component.ts","webpack:///./src/app/business/game-components/user/simple-move-game-component.ts","webpack:///./src/app/business/game-components/user/sparks.component.ts","webpack:///./src/app/business/game-components/user/test-one-component.ts","webpack:///./src/app/business/game-components/user/walker.component.ts","webpack:///./src/app/business/game-event-manager.ts","webpack:///./src/app/business/game-loader/component-builder.ts","webpack:///./src/app/business/game-loader/game-loader.ts","webpack:///./src/app/business/game-loader/hardcoded-game-data.ts","webpack:///./src/app/business/game-manager.ts","webpack:///./src/app/business/game-processor.ts","webpack:///./src/app/business/game-structure/game-data.ts","webpack:///./src/app/business/game-structure/game-object.ts","webpack:///./src/app/business/game-structure/game-scene.ts","webpack:///./src/app/business/game-structure/transform.ts","webpack:///./src/app/business/input/adapters/abstract-input-adapter.ts","webpack:///./src/app/business/input/adapters/web-browser-input-adapter.ts","webpack:///./src/app/business/input/dto/mouse-input-event.ts","webpack:///./src/app/business/input/input.ts","webpack:///./src/app/business/physics/collisions-processor.ts","webpack:///./src/app/business/screen/game-screen.ts","webpack:///./src/app/ui/app-root/app.component.less","webpack:///./src/app/ui/app-root/app.component.ts","webpack:///./src/app/ui/html-renderer/game-object/game-object.component.less","webpack:///./src/app/ui/html-renderer/game-object/game-object.component.ts","webpack:///./src/app/ui/html-renderer/html-renderer.component.less","webpack:///./src/app/ui/html-renderer/html-renderer.component.ts","webpack:///./src/app/ui/html-renderer/html-renderer.service.ts","webpack:///./src/app/ui/svg-renderer/svg-renderer.component.less","webpack:///./src/app/ui/svg-renderer/svg-renderer.component.ts","webpack:///./src/app/ui/svg-renderer/svg-renderer.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es5.js","sourcesContent":["module.exports = \"<div id=\\\"gameArea\\\" class=\\\"gameArea\\\" [ngStyle]=\\\"{'width': width + 'px', 'height': height + 'px'}\\\">\\n\\t<app-html-renderer></app-html-renderer>\\n\\t<app-svg-renderer data-width=\\\"{{width}}\\\" data-height=\\\"{{height}}\\\"></app-svg-renderer>\\n</div>\\n\\n<router-outlet></router-outlet>\\n\"","module.exports = \"<div class=\\\"game-object\\\"\\n\\t [ngClass]=\\\"gameObjectRenderInfo.className\\\"\\n\\t [ngStyle]=\\\"getStyle()\\\">{{gameObjectRenderInfo.text}}</div>\\n\"","module.exports = \"<app-game-object\\n\\t*ngFor=\\\"let renderInfo of gameObjectsRenderInfos; trackBy: id\\\"\\n\\t[gameObjectRenderInfo]=\\\"renderInfo\\\">\\n</app-game-object>\\n\"","module.exports = \"<svg [attr.viewBox]=\\\"viewBoxValue\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" [innerHtml]=\\\"svgElements\\\">\\n</svg>\\n\"","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { GameComponent } from '../../../business/game-components/core/base/game-component';\r\nimport { Vector2 } from '../../../business/common/vector2';\r\nimport { Timer } from '../../../business/common/timer';\r\nimport { GameScreen } from '../../../business/screen/game-screen';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { VMath } from '../../../business/common/v-math';\r\n\r\n@Exclude()\r\nexport class CloudShifterComponent extends GameComponent {\r\n\tname: string = CloudShifterComponent.name;\r\n\r\n\t@Expose()\r\n\tspeed: number;\r\n\r\n\t@Expose()\r\n\tmargin: number;\r\n\r\n\t@Expose()\r\n\tskyHeight: number;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst position = this.gameObject.transform.localPosition;\r\n\t\tconst newPosition = new Vector2(position.x - this.speed * Timer.delta, position.y);\r\n\t\tconst cloudWidth = this.gameObject.transform.width;\r\n\t\tconst cloudHeight = this.gameObject.transform.height;\r\n\r\n\t\tif (newPosition.x <= (0 - cloudWidth / 2 - this.margin) ) {\r\n\t\t\t// todo random cloud x\r\n\t\t\tnewPosition.x = GameScreen.getDefaultScreen().width + cloudWidth / 2 + this.margin;\r\n\t\t\tnewPosition.y = VMath.randIntMaxIncluded(cloudHeight / 2, this.skyHeight);\r\n\t\t}\r\n\t\tthis.gameObject.transform.localPosition = newPosition;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import {GameComponent} from '../../../business/game-components/core/base/game-component';\r\nimport { GameObjectFactory } from '../../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../../business/core/factory/transform-factory';\r\nimport { Vector2 } from '../../../business/common/vector2';\r\nimport { ComponentFactory } from '../../../business/core/factory/component-factory';\r\nimport { SvgRendererGameComponent } from '../../../business/game-components/svg-renderer-game-component/svg-renderer-game-component';\r\nimport { NameValuePair } from '../../../business/common/name-value-pair';\r\nimport { SvgElementType } from '../../../business/game-components/svg-renderer-game-component/svg-element-type';\r\nimport { RotateComponent } from '../../../business/game-components/user/rotate.component';\r\nimport { SvgPathElement, SvgPathElementType } from '../../../business/game-components/svg-renderer-game-component/svg-path-element';\r\nimport { Exclude } from 'class-transformer';\r\n\r\n@Exclude()\r\nexport class DinoClockGameComponent extends GameComponent {\r\n\tname: string = DinoClockGameComponent.name;\r\n\r\n\tstart(): void {\r\n\r\n\t\tconst dinoClockCircleObj = GameObjectFactory.createGameObject(\r\n\t\t\tthis.gameObject,\r\n\t\t\t'DinoClockCircleObj',\r\n\t\t\tTransformFactory.createLocalTransform(this.gameObject.transform, new Vector2(0, 0), 100, 100, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(SvgRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('type', SvgElementType.Circle),\r\n\t\t\t\t\tnew NameValuePair('x', 0),\r\n\t\t\t\t\tnew NameValuePair('y', 0),\r\n\t\t\t\t\tnew NameValuePair('r', 25),\r\n\t\t\t\t\tnew NameValuePair('stroke', '#0FF'),\r\n\t\t\t\t\tnew NameValuePair('strokeWidth', '1'),\r\n\t\t\t\t\tnew NameValuePair('strokeDasharray', '10 5')\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst dinoClockBigArrow = GameObjectFactory.createGameObject(\r\n\t\t\tthis.gameObject,\r\n\t\t\t'DinoClockBigArrow',\r\n\t\t\tTransformFactory.createLocalTransform(this.gameObject.transform, new Vector2(0, 0), 100, 100, 10),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(SvgRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('type', SvgElementType.Path),\r\n\t\t\t\t\tnew NameValuePair('x', 0),\r\n\t\t\t\t\tnew NameValuePair('y', 0),\r\n\t\t\t\t\tnew NameValuePair('pathElements', [\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.MoveTo, 0, 0),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 25, 0),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 20, -2),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 20, 2),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 25, 0),\r\n\t\t\t\t\t]),\r\n\t\t\t\t\tnew NameValuePair('stroke', '#00F'),\r\n\t\t\t\t\tnew NameValuePair('strokeWidth', '1')\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(RotateComponent, [\r\n\t\t\t\t\tnew NameValuePair('rotation', 80),\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst dinoClockSmallArrow = GameObjectFactory.createGameObject(\r\n\t\t\tthis.gameObject,\r\n\t\t\t'DinoClockSmallArrow',\r\n\t\t\tTransformFactory.createLocalTransform(this.gameObject.transform, new Vector2(0, 0), 100, 100, 10),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(SvgRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('type', SvgElementType.Path),\r\n\t\t\t\t\tnew NameValuePair('x', 0),\r\n\t\t\t\t\tnew NameValuePair('y', 0),\r\n\t\t\t\t\tnew NameValuePair('pathElements', [\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.MoveTo, 0, 0),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 20, 0),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 15, -2),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 15, 2),\r\n\t\t\t\t\t\tnew SvgPathElement(SvgPathElementType.LineTo, 20, 0),\r\n\t\t\t\t\t]),\r\n\t\t\t\t\tnew NameValuePair('stroke', '#0F0'),\r\n\t\t\t\t\tnew NameValuePair('strokeWidth', '1')\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(RotateComponent, [\r\n\t\t\t\t\tnew NameValuePair('rotation', 40),\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n}\r\n","import {GameComponent} from '../../../business/game-components/core/base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport {Vector2} from '../../../business/common/vector2';\r\nimport {Timer} from '../../../business/common/timer';\r\nimport {Input} from '../../../business/input/input';\r\nimport {MouseButtonType, MouseInputEvent} from '../../../business/input/dto/mouse-input-event';\r\n\r\n@Exclude()\r\nexport class DinoJumperComponent extends GameComponent {\r\n\tname: string = DinoJumperComponent.name;\r\n\r\n\t@Expose()\r\n\tdurationOfJump: number;\r\n\t@Expose()\r\n\tjumpHeight: number;\r\n\r\n\tprivate initialY: number;\r\n\tprivate isJumping = false;\r\n\tprivate startTime: number;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\r\n\t\tconst isKeyPressed = Input.getKey('ArrowUp') === true || Input.getKey('Space') === true;\r\n\r\n\t\tconst mouseEvents = Input.getMouseDown();\r\n\r\n\t\tconst isLeftMousePressed = mouseEvents.some((event: MouseInputEvent) => event.button === MouseButtonType.left);\r\n\r\n\t\tif ((isKeyPressed || isLeftMousePressed) && this.isJumping === false) {\r\n\t\t\tthis.isJumping = true;\r\n\t\t\tthis.initialY = this.gameObject.transform.localPosition.y;\r\n\t\t\tthis.startTime = Timer.getTime();\r\n\t\t}\r\n\t\tif (this.isJumping === true) {\r\n\t\t\tconst k = this.jumpHeight / Math.pow(this.durationOfJump, 2);\r\n\t\t\tconst t = (Timer.getTime() - this.startTime) / 1000 - this.durationOfJump;\r\n\r\n\t\t\tconst y = k * (t * t) - this.jumpHeight;\r\n\r\n\t\t\tconst currentTransform = this.gameObject.transform;\r\n\t\t\tconst currentPosition = currentTransform.localPosition;\r\n\r\n\t\t\tconst newPosition = new Vector2(currentPosition.x, this.initialY + y);\r\n\t\t\tif (t > this.durationOfJump) {\r\n\t\t\t\tthis.isJumping = false;\r\n\t\t\t\tcurrentTransform.localPosition = new Vector2(currentPosition.x, this.initialY);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tcurrentTransform.localPosition = newPosition;\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n}\r\n","import { GameComponent } from '../../../business/game-components/core/base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { CollisionGameComponent } from '../../../business/game-components/core/collision-game-component';\r\nimport { GameObject } from '../../../business/game-structure/game-object';\r\nimport { GameObjectFactory } from '../../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../../business/core/factory/transform-factory';\r\nimport { Vector2 } from '../../../business/common/vector2';\r\nimport { GameObjectCollection } from '../../../business/core/game-object-collection';\r\nimport { ComponentFactory } from '../../../business/core/factory/component-factory';\r\nimport { HtmlRendererGameComponent } from '../../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../../business/common/name-value-pair';\r\nimport { Timer } from '../../../business/common/timer';\r\nimport { GameScreen } from '../../../business/screen/game-screen';\r\nimport { DropCactusComponent } from './drop-cactus-component';\r\n\r\n@Exclude()\r\nexport class DinoLivesComponent extends GameComponent {\r\n\tname: string = DinoLivesComponent.name;\r\n\r\n\t@Expose()\r\n\tlives: number;\r\n\r\n\tlivesGameObject: GameObject;\r\n\r\n\tprivate livesGameObjects: GameObject[] = [];\r\n\r\n\tprivate collisionComponent;\r\n\r\n\tstart() {\r\n\t\tconst rootGameObject = GameObjectCollection.root(this.gameObject);\r\n\r\n\t\tthis.collisionComponent = this.gameObject.getComponent<CollisionGameComponent>(CollisionGameComponent.name);\r\n\t\tthis.livesGameObject = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'LivesGameObject',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, new Vector2(100, 100), 100, 25, 0),\r\n\t\t\t[\r\n\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue,\r\n\t\t\t''\r\n\t\t);\r\n\t\tthis.setLives(this.lives);\r\n\t}\r\n\r\n\tdraw() {\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tconst gameScreen = GameScreen.getDefaultScreen();\r\n\t\tconst width = gameScreen.width;\r\n\t\tthis.livesGameObject.transform.localPosition = new Vector2(width - 100, 25);\r\n\r\n\r\n\t\tif (this.collisionComponent.collisions.length > 0) {\r\n\t\t\tthis.setLives(this.lives - 1)\r\n\t\t\tif (this.lives === 0) {\r\n\t\t\t\tTimer.divider = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy() {\r\n\t}\r\n\r\n\tpublic setLives(lives: number) {\r\n\t\tthis.lives = lives;\r\n\t\tlet heartWidth = 30;\r\n\t\tlet heartHeight = 30;\r\n\t\tfor(let i = 0; i < this.livesGameObjects.length; i++) {\r\n\t\t\tGameObjectCollection.remove(this.livesGameObjects[i]);\r\n\t\t}\r\n\t\tthis.livesGameObjects.length = 0;\r\n\t\tfor(let i = 0; i < this.lives; i++) {\r\n\t\t\tlet heartGameObject = GameObjectFactory.createGameObject(\r\n\t\t\t\tthis.livesGameObject,\r\n\t\t\t\t'LiveHeart',\r\n\t\t\t\tTransformFactory.createLocalTransform(\r\n\t\t\t\t\tthis.livesGameObject.transform,\r\n\t\t\t\t\tnew Vector2(i * (heartWidth + 5), 0), heartWidth, heartHeight, 0),\r\n\t\t\t\t[\r\n\t\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/heart.png'),\r\n\t\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t\t], true)\r\n\t\t\t\t],\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t\tthis.livesGameObjects.push(heartGameObject);\r\n\t\t}\r\n\t}\r\n}\r\n","import { GameComponent } from '../../../business/game-components/core/base/game-component';\r\nimport { Timer } from '../../../business/common/timer';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { GameObjectCollection } from '../../../business/core/game-object-collection';\r\nimport { CollisionGameComponent } from '../../../business/game-components/core/collision-game-component';\r\n\r\n@Exclude()\r\nexport class DinoScoreCounterComponent extends GameComponent {\r\n\tname: string = DinoScoreCounterComponent.name;\r\n\r\n\tprivate score = 0;\r\n\tprivate hiScore = 0;\r\n\r\n\t@Expose()\r\n\tcounterSpeed: number;\r\n\r\n\tprivate dinoColliderComponent: CollisionGameComponent;\r\n\r\n\tstart(): void {\r\n\t\tconst dino = GameObjectCollection.findDescendantByName('Dino', GameObjectCollection.root(this.gameObject));\r\n\t\tthis.dinoColliderComponent = dino.getComponent<CollisionGameComponent>(CollisionGameComponent.name);\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t\tthis.gameObject.text = 'HI: ' + Math.ceil(this.hiScore) + ' : ' + Math.ceil(this.score);\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tthis.score = this.score + this.counterSpeed * Timer.delta;\r\n\r\n\t\tif (this.dinoColliderComponent.collisions.length > 0) {\r\n\t\t\tthis.score = 0;\r\n\t\t}\r\n\r\n\t\tif (this.score > this.hiScore) {\r\n\t\t\tthis.hiScore = this.score;\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy() {\r\n\t}\r\n}\r\n","import { GameComponent } from '../../../business/game-components/core/base/game-component';\r\nimport { Vector2 } from '../../../business/common/vector2';\r\nimport { Timer } from '../../../business/common/timer';\r\nimport { GameScreen } from '../../../business/screen/game-screen';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { GameObject } from '../../../business/game-structure/game-object';\r\nimport { GameObjectFactory } from '../../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../../business/core/factory/transform-factory';\r\nimport { ComponentFactory } from '../../../business/core/factory/component-factory';\r\nimport {\r\n\tHtmlRendererGameComponent\r\n} from '../../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../../business/common/name-value-pair';\r\nimport { GameObjectCollection } from '../../../business/core/game-object-collection';\r\n\r\n@Exclude()\r\nexport class GroundShifterComponent extends GameComponent {\r\n\tname: string = GroundShifterComponent.name;\r\n\r\n\t@Expose()\r\n\tspeed: number;\r\n\r\n\t@Expose()\r\n\tmargin: number;\r\n\r\n\tpublic currentShift = 0;\r\n\r\n\tprivate groundWidth = 550;\r\n\tprivate groundObjects: GameObject[] = [];\r\n\r\n\tstart(): void {\r\n\t\tthis.createGround();\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst shift = this.speed * Timer.delta;\r\n\t\tthis.currentShift += shift;\r\n\t\tconst resGroundObjects = [];\r\n\r\n\t\tfor (let i = 0; i < this.groundObjects.length; i++) {\r\n\t\t\tif (!this.shiftGroundAndRemove(this.groundObjects[i], shift)) {\r\n\t\t\t\tresGroundObjects.push(this.groundObjects[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (resGroundObjects.length === 0) {\r\n\t\t\tresGroundObjects.push(this.createGroundGameObject(this.groundWidth / 2));\r\n\t\t}\r\n\r\n\t\twhile (resGroundObjects[resGroundObjects.length - 1].transform.toRect().right < GameScreen.getDefaultScreen().width) {\r\n\t\t\tresGroundObjects.push(\r\n\t\t\t\tthis.createGroundGameObject(\r\n\t\t\t\t\tresGroundObjects[resGroundObjects.length - 1].transform.localPosition.x + this.groundWidth)\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.groundObjects = resGroundObjects;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tpublic getLastGroundObject(): GameObject {\r\n\t\treturn this.groundObjects[this.groundObjects.length - 1];\r\n\t}\r\n\r\n\tprivate createGround(): void {\r\n\t\tconst groundNumber = Math.ceil(GameScreen.getDefaultScreen().width / this.groundWidth);\r\n\t\tfor (let i = 0; i < groundNumber; i++) {\r\n\t\t\tthis.groundObjects.push(this.createGroundGameObject(this.groundWidth / 2 + this.groundWidth * i));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createGroundGameObject(x: number): GameObject {\r\n\t\treturn GameObjectFactory.createGameObject(\r\n\t\t\tthis.gameObject,\r\n\t\t\t'Ground',\r\n\t\t\tTransformFactory.createLocalTransform(this.gameObject.transform, new Vector2(x, 0), 550, 8, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/ground.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t}\r\n\r\n\tprivate shiftGroundAndRemove(groundObject: GameObject, shift: number): boolean {\r\n\t\tconst position = groundObject.transform.localPosition;\r\n\t\tconst newPosition = new Vector2(position.x - shift, position.y);\r\n\t\tconst groundWidth = groundObject.transform.width;\r\n\r\n\t\tgroundObject.transform.localPosition = newPosition;\r\n\r\n\t\tif (newPosition.x <= (0 - groundWidth / 2) ) {\r\n\t\t\tGameObjectCollection.remove(groundObject);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n","import { GameComponent } from '../../../../business/game-components/core/base/game-component';\r\nimport { CollisionGameComponent } from '../../../../business/game-components/core/collision-game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { GameObjectCollection } from '../../../../business/core/game-object-collection';\r\nimport { MathQuestionComponent } from './math-question-component';\r\n\r\n@Exclude()\r\nexport class MathAnswerComponent extends GameComponent {\r\n\tname: string = MathAnswerComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic value: string;\r\n\r\n\tprivate collisionComponent: CollisionGameComponent;\r\n\tprivate questionComponent: MathQuestionComponent;\r\n\r\n\tstart(): void {\r\n\t\tthis.collisionComponent = this.gameObject.getComponent<CollisionGameComponent>(CollisionGameComponent.name);\r\n\t\tthis.questionComponent = GameObjectCollection.findDescendantByName('mathQuestion', GameObjectCollection.root(this.gameObject))\r\n\t\t\t.getComponent<MathQuestionComponent>(MathQuestionComponent.name);\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tif (this.collisionComponent.collisions.length > 0) {\r\n\t\t\tthis.questionComponent.answer(this.value);\r\n\t\t\tGameObjectCollection.remove(this.gameObject);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { GameComponent } from '../../../../business/game-components/core/base/game-component';\r\nimport { GroundShifterComponent } from '../ground-shifter-component';\r\nimport { VMath } from '../../../../business/common/v-math';\r\nimport { GameObjectFactory } from '../../../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../../../business/core/factory/transform-factory';\r\nimport { Vector2 } from '../../../../business/common/vector2';\r\nimport { GameScreen } from '../../../../business/screen/game-screen';\r\nimport { ComponentFactory } from '../../../../business/core/factory/component-factory';\r\nimport {\r\n\tHtmlRendererGameComponent\r\n} from '../../../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../../../business/common/name-value-pair';\r\nimport { CollisionGameComponent } from '../../../../business/game-components/core/collision-game-component';\r\nimport { Rect } from '../../../../business/common/rect';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { MathAnswerComponent } from './math-answer-component';\r\n\r\n@Exclude()\r\nexport class MathProducerComponent extends GameComponent {\r\n\tname: string = MathProducerComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic frequency: number;\r\n\r\n\t@Expose()\r\n\tpublic shiftIntervalFrom: number;\r\n\r\n\t@Expose()\r\n\tpublic shiftIntervalTo: number;\r\n\r\n\tprivate nextCactusShift: number;\r\n\tprivate shifterComponent: GroundShifterComponent;\r\n\r\n\tstart(): void {\r\n\t\tthis.shifterComponent = this.gameObject.getComponent<GroundShifterComponent>(GroundShifterComponent.name);\r\n\t\tthis.calcNextCactusTime();\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tif (this.shifterComponent.currentShift  >= this.nextCactusShift) {\r\n\t\t\tthis.createCactus();\r\n\t\t\tthis.calcNextCactusTime();\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tprivate calcNextCactusTime() {\r\n\t\tconst shiftInterval = VMath.randIntMaxIncluded(this.shiftIntervalFrom, this.shiftIntervalTo);\r\n\t\tconst sign = VMath.randIntMaxIncluded(0, 1);\r\n\t\tthis.nextCactusShift = this.shifterComponent.currentShift + this.frequency + shiftInterval * ((sign === 0) ? 1 : -1);\r\n\t}\r\n\r\n\tprivate createCactus() {\r\n\t\tconst rootObject = this.gameObject.getComponent<GroundShifterComponent>(GroundShifterComponent.name).getLastGroundObject();\r\n\t\tconst answers = ['0', '1', '1/2', '√2/2', '√3/2', '√3/3', '√3', '-1', '--'];\r\n\t\tconst answerIndex = VMath.randIntMaxIncluded(0, answers.length - 1);\r\n\r\n\t\treturn GameObjectFactory.createGameObject(\r\n\t\t\trootObject,\r\n\t\t\t'SmallCactus',\r\n\t\t\tTransformFactory.createGlobalTransform(\r\n\t\t\t\trootObject.transform,\r\n\t\t\t\tnew Vector2(GameScreen.getDefaultScreen().width + 16, rootObject.transform.position.y - 16), 36, 43, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\t// new NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/small-cactus.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CollisionGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('meshCollider', [new Rect(0, 0, 10, 10)])\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(MathAnswerComponent, [\r\n\t\t\t\t\tnew NameValuePair('value', answers[answerIndex])\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue, answers[answerIndex]\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Exclude } from 'class-transformer';\r\nimport { GameComponent } from '../../../../business/game-components/core/base/game-component';\r\nimport { VMath } from '../../../../business/common/v-math';\r\nimport { HtmlRendererGameComponent } from '../../../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { Timer } from '../../../../business/common/timer';\r\nimport { GameObjectCollection } from '../../../../business/core/game-object-collection';\r\nimport { MathScoreCounterComponent } from './math-score-counter-component';\r\n\r\nenum MathQuestion {\r\n\tNone= 'None',\r\n\tWaitingAnswer = 'WaitingAnswer',\r\n\tDisplayingCorrect = 'DisplayingCorrect'\r\n}\r\n\r\nconst answersMap = new Map([\r\n\t['sin(0°)', '0'], ['sin(30°)', '1/2'], ['sin(45°)', '√2/2'], ['sin(60°)', '√3/2'], ['sin(90°)', '1'], ['sin(180°)', '0'],\r\n\t['cos(0°)', '1'], ['cos(30°)', '√3/2'], ['cos(45°)', '√2/2'], ['cos(60°)', '1/2'], ['cos(90°)', '0'], ['cos(180°)', '-1'],\r\n\t['tg(0°)', '0'], ['tg(30°)', '√3/3'], ['tg(45°)', '1'], ['tg(60°)', '√3'], ['tg(90°)', '--'], ['tg(180°)', '0'],\r\n\t['ctg(0°)', '--'], ['ctg(30°)', '√3'], ['ctg(45°)', '1'], ['ctg(60°)', '√3/3'], ['ctg(90°)', '0'], ['ctg(180°)', '--']\r\n]);\r\n\r\n@Exclude()\r\nexport class MathQuestionComponent extends GameComponent  {\r\n\r\n\tpublic name = MathQuestionComponent.name;\r\n\r\n\tprivate currentQuestion = '';\r\n\tprivate currentState = MathQuestion.None;\r\n\tprivate allQuestions = Array.from(answersMap.keys());\r\n\tprivate result = '';\r\n\tprivate waitingTime = 0;\r\n\tprivate renderer: HtmlRendererGameComponent;\r\n\tprivate mathScoreCounterComponent: MathScoreCounterComponent;\r\n\tprivate css = '';\r\n\r\n\tpublic start(): void {\r\n\t\tconst mathScore = GameObjectCollection.findDescendantByName('mathScore', GameObjectCollection.root(this.gameObject));\r\n\t\tthis.mathScoreCounterComponent = mathScore.getComponent<MathScoreCounterComponent>(MathScoreCounterComponent.name);\r\n\t\tconst mathQuestion = GameObjectCollection.findDescendantByName('mathQuestion', GameObjectCollection.root(this.gameObject));\r\n\t\tthis.renderer = mathQuestion.getComponent<HtmlRendererGameComponent>(HtmlRendererGameComponent.name);\r\n\t\tthis.setQuestion();\r\n\t}\r\n\r\n\tpublic draw(): void {\r\n\t\tthis.gameObject.text = `${this.currentQuestion}${this.result}`;\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tif (this.currentState === MathQuestion.DisplayingCorrect && this.waitingTime < Timer.getTime()) {\r\n\t\t\tthis.setQuestion();\r\n\t\t}\r\n\t\tthis.renderer.addAdditionalCss(this.css);\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t}\r\n\r\n\tpublic answer(answer: string): void {\r\n\t\tif (this.currentState !== MathQuestion.WaitingAnswer) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (answersMap.get(this.currentQuestion) === answer) {\r\n\t\t\tthis.result = ` ${answer} Верно!!!`;\r\n\t\t\tthis.css = 'color: #0F0';\r\n\t\t\tthis.mathScoreCounterComponent.incrementScore();\r\n\t\t} else {\r\n\t\t\tthis.result = ` Правильный ответ: ${answersMap.get(this.currentQuestion)}`;\r\n\t\t\tthis.css = 'color: #F00';\r\n\t\t}\r\n\t\tthis.currentState = MathQuestion.DisplayingCorrect;\r\n\t\tthis.waitingTime = Timer.getTime() + 5000;\r\n\t}\r\n\r\n\tprivate setQuestion(): void {\r\n\t\tconst index = VMath.randIntMaxIncluded(0, this.allQuestions.length - 1);\r\n\t\tthis.currentQuestion = this.allQuestions[index];\r\n\t\tthis.currentState = MathQuestion.WaitingAnswer;\r\n\t\tthis.css = 'color: #000';\r\n\t\tthis.result = '';\r\n\t}\r\n}\r\n","import { Exclude } from 'class-transformer';\r\nimport { GameComponent } from '../../../../business/game-components/core/base/game-component';\r\n\r\n\r\n@Exclude()\r\nexport class MathScoreCounterComponent extends GameComponent  {\r\n\r\n\tpublic name = MathScoreCounterComponent.name;\r\n\r\n\tprivate hiScore = 0;\r\n\tprivate score = 0;\r\n\r\n\tpublic start(): void {\r\n\t}\r\n\r\n\tpublic draw(): void {\r\n\t\tthis.gameObject.text = `Math ${this.hiScore} ${this.score}`;\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tif (this.hiScore < this.score) {\r\n\t\t\tthis.hiScore = this.score;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t}\r\n\r\n\tpublic reset(): void {\r\n\t\tthis.score = 0;\r\n\t}\r\n\r\n\tpublic incrementScore(): void {\r\n\t\tthis.score++;\r\n\t}\r\n}\r\n","import { GameObject } from '../../../business/game-structure/game-object';\r\nimport { GameObjectFactory } from '../../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../../business/core/factory/transform-factory';\r\nimport { Vector2 } from '../../../business/common/vector2';\r\nimport { ComponentFactory } from '../../../business/core/factory/component-factory';\r\nimport {\r\n\tHtmlRendererGameComponent\r\n} from '../../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../../business/common/name-value-pair';\r\nimport { CloudShifterComponent } from '../components/cloud-shifter-component';\r\nimport { AnimateGameComponent } from '../../../business/game-components/core/animate-game-component/animate-game-component';\r\nimport { GroundShifterComponent } from '../components/ground-shifter-component';\r\nimport { DinoJumperComponent } from '../components/dino-jumper-component';\r\nimport { GameElementProducerComponent } from '../components/game-element-producer-component';\r\nimport { CollisionGameComponent } from '../../../business/game-components/core/collision-game-component';\r\nimport { Rect } from '../../../business/common/rect';\r\nimport { DinoClockGameComponent } from '../components/dino-clock-game-component';\r\nimport { DinoScoreCounterComponent } from '../components/dino-score-counter-component';\r\nimport { DinoLivesComponent } from '../components/dino-lives-component';\r\nimport { MathScoreCounterComponent } from '../components/math/math-score-counter-component';\r\nimport { MathProducerComponent } from '../components/math/math-producer-component';\r\nimport { MathQuestionComponent } from '../components/math/math-question-component';\r\n\r\nexport class ImpossibleDinoData {\r\n\tpublic static getData(): GameObject {\r\n\r\n\t\tconst rootGameObject = GameObjectFactory.createGameObject(\r\n\t\t\tnull,\r\n\t\t\t'root',\r\n\t\t\tTransformFactory.createGlobalTransform(null, new Vector2(0, 0), 0, 0, 0),\r\n\t\t\t[],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\t/*const background = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Background',\r\n\t\t\tTransformFactory.createTransform(new Vector2(700, 400), 1024, 768, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/oscilograph-background.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', ''),\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(GeometryComponent, [])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);*/\r\n\r\n\t\tconst cloud = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Cloud',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(400, 170), 46, 13, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/cloud.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', ''),\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CloudShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t\tnew NameValuePair('skyHeight', 170)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst cloud2 = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Cloud2',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(500, 150), 46, 13, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/cloud.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CloudShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t\tnew NameValuePair('skyHeight', 170)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst cloud3 = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Cloud3',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(700, 130), 46, 13, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/cloud.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CloudShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t\tnew NameValuePair('skyHeight', 170)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst groundHolder = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'GroundHolder',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(0, 269), 8, 8, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(GroundShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 200),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t]),\r\n\t\t\t\t/*ComponentFactory.createComponent(CactiProducerComponent, [\r\n\t\t\t\t\tnew NameValuePair('frequency', 300),\r\n\t\t\t\t\tnew NameValuePair('shiftIntervalFrom', 20),\r\n\t\t\t\t\tnew NameValuePair('shiftIntervalTo', 200)\r\n\t\t\t\t], true),*/\r\n\t\t\t\tComponentFactory.createComponent(MathProducerComponent, [\r\n\t\t\t\t\tnew NameValuePair('frequency', 300),\r\n\t\t\t\t\tnew NameValuePair('shiftIntervalFrom', 20),\r\n\t\t\t\t\tnew NameValuePair('shiftIntervalTo', 200),\r\n\t\t\t\t\tnew NameValuePair('bonusInterval', 3000)\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst dino = GameObjectFactory.createGameObject(\r\n\t\t\tgroundHolder,\r\n\t\t\t'Dino',\r\n\t\t\tTransformFactory.createLocalTransform(groundHolder.transform, new Vector2(50, -19), 40, 43, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/games/impossibleDino/img/dino-step-run.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(AnimateGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('slideWidth', 40),\r\n\t\t\t\t\tnew NameValuePair('slideHeight', 43),\r\n\t\t\t\t\tnew NameValuePair('slidesInARow', 2),\r\n\t\t\t\t\tnew NameValuePair('slidesCount', 2),\r\n\t\t\t\t\tnew NameValuePair('animationSpeed', 12)\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(DinoJumperComponent, [\r\n\t\t\t\t\tnew NameValuePair('durationOfJump', 0.32), // 0.25\r\n\t\t\t\t\tnew NameValuePair('jumpHeight', 85), // 85\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(CollisionGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('meshCollider', [new Rect(20, 0, 20, 15), new Rect(0, 15, 27, 20), new Rect(10, 36, 14, 6)])\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(DinoLivesComponent, [\r\n\t\t\t\t\tnew NameValuePair('lives', 3000)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\r\n\t\tconst svgDinoClockRootObj = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'SvgDinoClockRootObj',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(30, 30), 100, 100, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(DinoClockGameComponent, [])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t\tconst dinoScore = GameObjectFactory.createGameObject(\r\n\t\t\tsvgDinoClockRootObj,\r\n\t\t\t'dinoScore',\r\n\t\t\tTransformFactory.createLocalTransform(svgDinoClockRootObj.transform, new Vector2(110, 0), 150, 20, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'font-family: \\'Tangerine\\', serif; font-size: 20px;')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(DinoScoreCounterComponent, [\r\n\t\t\t\t\tnew NameValuePair('counterSpeed', 10)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst mathScore = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'mathScore',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, new Vector2(250, 30), 150, 20, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'font-family: \\'Tangerine\\', serif; font-size: 20px;')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(MathScoreCounterComponent, [])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst mathQuestion = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'mathQuestion',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, new Vector2(450, 30), 300, 20, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'font-family: \\'Tangerine\\', serif; font-size: 20px; font-weight: bold;')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(MathQuestionComponent, [\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\r\n\r\n\t\treturn rootGameObject;\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './ui/app-root/app.component';\nimport { GameObjectComponent } from './ui/html-renderer/game-object/game-object.component';\nimport { HtmlRendererComponent } from './ui/html-renderer/html-renderer.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { SvgRendererComponent } from './ui/svg-renderer/svg-renderer.component';\n\n@NgModule({\n  declarations: [\n\tAppComponent,\n\tGameObjectComponent,\n\tHtmlRendererComponent,\n\tSvgRendererComponent\n  ],\n  imports: [\n\tBrowserModule,\n\tAppRoutingModule,\n\tHttpClientModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { VMath } from './v-math';\r\n\r\nexport class Angle {\r\n\tpublic static rand(from: number = 0, to: number = 360): number {\r\n\t\treturn VMath.randIntMaxIncluded(from, to);\r\n\t}\r\n\r\n\tconstructor(public value: number) {\r\n\t}\r\n\r\n\tpublic get normalized() {\r\n\t\treturn this.value - Math.floor(this.value / 360) * 360;\r\n\t}\r\n\r\n\tpublic rotateTo(toAngle: Angle, step: number): boolean {\r\n\t\tif (this.isEqualTo(toAngle)) {\r\n\t\t\tconsole.log('EQ');\r\n\t\t\tthis.value = toAngle.value;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tlet destAngle = toAngle.normalized;\r\n\t\tlet fromAngle = this.normalized;\r\n\t\tif (destAngle < fromAngle) {\r\n\t\t\tdestAngle += 360;\r\n\t\t}\r\n\r\n\t\tconst deltaCWAngle = destAngle - fromAngle;\r\n\t\tif (deltaCWAngle <= 180) { // Move Clock Wise\r\n\t\t\t// console.log('CW');\r\n\t\t\tconst resAngle = new Angle(this.value + step).normalized;\r\n\t\t\tif (resAngle > destAngle) {\r\n\t\t\t\t// console.log(`CW-SET toAngle: ${JSON.stringify(toAngle)} this.value: ${this.value}`);\r\n\t\t\t\tthis.value = toAngle.normalized;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tthis.value += step;\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// console.log('CCW');\r\n\t\tfromAngle += 360;\r\n\r\n\t\tconst res = new Angle(fromAngle - step);\r\n\t\tif (res.value < toAngle.normalized) {\r\n\t\t\t// console.log(`CCW-SET ${JSON.stringify(toAngle)} this.value: ${this.value}`);\r\n\t\t\tthis.value = toAngle.normalized;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tthis.value = res.normalized;\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n\tpublic isEqualTo(angle: Angle): boolean {\r\n\t\treturn Math.round(this.value * 100) === Math.round(angle.value * 100);\r\n\t}\r\n}\r\n","import * as uuid from 'uuid';\r\n\r\nexport class Guid {\r\n\tpublic static create(): string {\r\n\t\treturn uuid.v4();\r\n\t}\r\n}\r\n","export class Logger {\r\n\tpublic static log(message: string): void {\r\n\t\tconsole.log(message);\r\n\t}\r\n\r\n\tpublic static warn(message: string): void {\r\n\t\t\tconsole.warn(message);\r\n\t}\r\n\r\n\tpublic static error(message: string): void {\r\n\t\t\tconsole.error(message);\r\n\t}\r\n}\r\n","export class NameValuePair {\r\n\tconstructor(public name: string, public value: any) {\r\n\t}\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { Vector2 } from './vector2';\r\n\r\n@Exclude()\r\nexport class Rect {\r\n\r\n\t@Expose()\r\n\tpublic left: number;\r\n\r\n\t@Expose()\r\n\tpublic top: number;\r\n\r\n\t@Expose()\r\n\tpublic width: number;\r\n\r\n\t@Expose()\r\n\tpublic height: number;\r\n\r\n\tpublic constructor(left: number, top: number, width: number, height: number) {\r\n\t\tthis.left = left;\r\n\t\tthis.top = top;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n\r\n\tpublic get right(): number {\r\n\t\treturn this.left + this.width;\r\n\t}\r\n\r\n\tpublic set right(value: number) {\r\n\t\tthis.width = value - this.left;\r\n\t}\r\n\r\n\tpublic get bottom(): number {\r\n\t\treturn this.top + this.height;\r\n\t}\r\n\r\n\tpublic set bottom(value: number) {\r\n\t\tthis.height = value - this.top;\r\n\t}\r\n\r\n\tpublic isInside(point: Vector2): boolean {\r\n\t\treturn this.isInsideXY(point.x, point.y);\r\n\t}\r\n\r\n\tpublic isInsideXY(x: number, y: number): boolean {\r\n\t\treturn (x >= this.left) && (x <= this.right) && (y >= this.top) && (y <= this.bottom);\r\n\t}\r\n\r\n\tpublic intersects(rect: Rect): boolean {\r\n\t\treturn this.isInsideXY(rect.left, rect.top) ||\r\n\t\t\tthis.isInsideXY(rect.right, rect.top) ||\r\n\t\t\tthis.isInsideXY(rect.left, rect.bottom) ||\r\n\t\t\tthis.isInsideXY(rect.right, rect.bottom) ||\r\n\t\t\trect.isInsideXY(this.left, this.top) ||\r\n\t\t\trect.isInsideXY(this.right, this.top) ||\r\n\t\t\trect.isInsideXY(this.left, this.bottom) ||\r\n\t\t\trect.isInsideXY(this.right, this.bottom);\r\n\t}\r\n\r\n\tpublic shift(x: number, y: number): Rect {\r\n\t\tthis.left = this.left + x;\r\n\t\tthis.top = this.top + y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic clone(): Rect {\r\n\t\treturn new Rect(this.left, this.top, this.width, this.height);\r\n\t}\r\n}\r\n","import { isNumber } from 'util';\r\nimport { Logger } from './logger';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport class Timer {\r\n\r\n\tpublic static timerEvent: Subject<void> = new Subject();\r\n\tpublic static firsTimerIsActive = true;\r\n\tpublic static secondTimerIsActive = true;\r\n\tpublic static thirdTimerIsActive = true;\r\n\r\n\tprivate static isStarted = false;\r\n\tprivate static dividerValue = 1;\r\n\tprivate static intervalValue = 16;\r\n\r\n\tprivate static initialTimerValue = 0;\r\n\tprivate static lastTimerValue = 0;\r\n\tprivate static callsNumber = 0;\r\n\tprivate static callTime = 0;\r\n\r\n\r\n\tpublic static initialize() {\r\n\t\tTimer.initialTimerValue = Timer.getRealTime();\r\n\t\t// Timer.lastTimerValue = Timer.initialTimerValue;\r\n\t\t// Timer.callTime = Timer.initialTimerValue;\r\n\t\tTimer.start();\r\n\t\tsetInterval(() => { Timer.intervalCallback(); }, Timer.intervalValue);\r\n\t}\r\n\r\n\tpublic static get started(): boolean {\r\n\t\treturn Timer.isStarted;\r\n\t}\r\n\r\n\tpublic static get divider(): number {\r\n\t\treturn Timer.dividerValue;\r\n\t}\r\n\r\n\tpublic static set divider(value: number) {\r\n\t\tif (!isNumber(value) || value < 0) {\r\n\t\t\tLogger.warn(`Timer's divider value is invalid: ${value}`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tTimer.dividerValue = value;\r\n\t}\r\n\r\n\tpublic static get timeSinceStart(): number {\r\n\t\treturn Timer.callTime - Timer.initialTimerValue;\r\n\t}\r\n\r\n\t// delta have to be in secs.\r\n\tpublic static get delta(): number {\r\n\t\treturn ((Timer.callTime * Timer.divider) - (Timer.lastTimerValue * Timer.divider)) / 1000;\r\n\t}\r\n\r\n\tpublic static start(): void {\r\n\t\tTimer.isStarted = true;\r\n\t\tTimer.lastTimerValue = Timer.getRealTime();\r\n\t\tTimer.callTime = Timer.initialTimerValue;\r\n\t}\r\n\r\n\tpublic static stop(): void {\r\n\t\tTimer.isStarted = false;\r\n\t}\r\n\r\n\tpublic static getTime(): number {\r\n\t\treturn Date.now() * Timer.divider;\r\n\t}\r\n\r\n\tprivate static getRealTime(): number {\r\n\t\treturn Date.now();\r\n\t}\r\n\r\n\tprivate static intervalCallback(): void {\r\n\t\tTimer.callsNumber++;\r\n\r\n\t\tTimer.lastTimerValue = Timer.callTime;\r\n\t\tTimer.callTime = Timer.getRealTime();\r\n\t\tthis.timerEvent.next();\r\n\t}\r\n}\r\n\r\nTimer.initialize();\r\n","import { Vector2 } from './vector2';\r\n\r\n// http://gamedevelopertips.com/vector-in-game-development/\r\nexport class VMath {\r\n\tpublic static multiply(vector: Vector2, scalar: number): Vector2 {\r\n\t\treturn new Vector2(vector.x * scalar, vector.y * scalar);\r\n\t}\r\n\r\n\tpublic static add(vector: Vector2, vector1: Vector2): Vector2 {\r\n\t\treturn new Vector2(vector.x + vector1.x, vector.y + vector1.y);\r\n\t}\r\n\r\n\t// https://matthew-brett.github.io/teaching/rotation_2d.html\r\n\tpublic static rotate(vector: Vector2, angleDegrees: number): Vector2 {\r\n\t\t// x2=cos(β)x1−sin(β)y1\r\n\t\t// y2=sin(β)x1+cos(β)y1\r\n\t\tconst angle = VMath.toRad(angleDegrees);\r\n\t\tconst x2 = vector.x * Math.cos(angle) - vector.y * Math.sin(angle);\r\n\t\tconst y2 = vector.x * Math.sin(angle) + vector.y * Math.cos(angle);\r\n\t\treturn new Vector2(x2, y2);\r\n\t}\r\n\r\n\tpublic static toRad(angleDegrees: number): number {\r\n\t\treturn angleDegrees * Math.PI / 180;\r\n\t}\r\n\r\n\tpublic static randIntMaxIncluded(min: number, max: number): number {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) ) + min;\r\n\t}\r\n\tpublic static randIntMaxExcluded(min: number, max: number): number {\r\n\t\treturn Math.floor(Math.random() * (max - min) ) + min;\r\n\t}\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\n\r\n@Exclude()\r\nexport class Vector2 {\r\n\r\n\tpublic static get zero() {\r\n\t\treturn new Vector2(0, 0);\r\n\t}\r\n\r\n\tpublic static get one() {\r\n\t\treturn new Vector2(1, 1);\r\n\t}\r\n\r\n\t@Expose()\r\n\tpublic x: number;\r\n\t@Expose()\r\n\tpublic y: number;\r\n\r\n\tconstructor(x: number, y: number) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tpublic subtract(value: Vector2): Vector2 {\r\n\t\treturn new Vector2(this.x - value.x, this.y - value.y);\r\n\t}\r\n\r\n\tpublic add(value: Vector2): Vector2 {\r\n\t\treturn new Vector2(this.x + value.x, this.y + value.y);\r\n\t}\r\n\r\n\tpublic clone(): Vector2 {\r\n\t\treturn new Vector2(this.x, this.y);\r\n\t}\r\n\r\n\tpublic equalTo(vector: Vector2): boolean {\r\n\t\treturn this.x === vector.x && this.y === vector.y;\r\n\t}\r\n}\r\n","import { NameValuePair } from '../../common/name-value-pair';\r\n\r\nexport interface IClassStatic {\r\n\tnew();\r\n}\r\n\r\nexport class ComponentFactory {\r\n\r\n\tpublic static createComponent<T>(clazz: IClassStatic, params: NameValuePair[], active: boolean = true): T {\r\n\t\tconst component = new clazz();\r\n\t\t(params || []).forEach((p) => {\r\n\t\t\tcomponent[p.name] = p.value;\r\n\t\t});\r\n\t\tcomponent.active = active;\r\n\t\treturn component;\r\n\t}\r\n}\r\n","import { GameObject } from '../../game-structure/game-object';\r\nimport { Transform } from '../../game-structure/transform';\r\nimport { GameComponent } from '../../game-components/core/base/game-component';\r\nimport { GameObjectCollection } from '../game-object-collection';\r\n\r\nexport class GameObjectFactory {\r\n\tpublic static createGameObject(\r\n\t\t\tparent: GameObject,\r\n\t\t\tname: string,\r\n\t\t\ttransform: Transform,\r\n\t\t\tcomponents: GameComponent[],\r\n\t\t\tactive: boolean,\r\n\t\t\ttext: string = null): GameObject {\r\n\r\n\t\tconst gameObject = new GameObject();\r\n\t\tgameObject.name = name;\r\n\t\tgameObject.transform = transform;\r\n\t\tcomponents.forEach((c) => {\r\n\t\t\tif (c.gameObject == null) {\r\n\t\t\t\tc.gameObject = gameObject;\r\n\t\t\t}\r\n\t\t});\r\n\t\tgameObject.components = components;\r\n\t\tgameObject.transform.gameObject = gameObject;\r\n\t\tgameObject.active = active;\r\n\t\tgameObject.paused = false;\r\n\t\tgameObject.text = text;\r\n\r\n\t\tif (parent != null) {\r\n\t\t\tGameObjectCollection.insert(gameObject, parent);\r\n\t\t}\r\n\r\n\t\treturn gameObject;\r\n\t}\r\n}\r\n","import { Vector2 } from '../../common/vector2';\r\nimport { Transform } from '../../game-structure/transform';\r\n\r\nexport class TransformFactory {\r\n\tpublic static createGlobalTransform(\r\n\t\t\tparent: Transform,\r\n\t\t\tglobalPosition: Vector2,\r\n\t\t\twidth: number,\r\n\t\t\theight: number,\r\n\t\t\trotation: number): Transform {\r\n\t\treturn Transform.instantiateGlobal(parent, globalPosition, rotation, width, height);\r\n\t}\r\n\r\n\tpublic static createLocalTransform(\r\n\t\t\tparent: Transform,\r\n\t\t\tlocalPosition: Vector2,\r\n\t\t\twidth: number,\r\n\t\t\theight: number,\r\n\t\t\trotation: number): Transform {\r\n\t\treturn Transform.instantiateLocal(parent, localPosition, rotation, width, height);\r\n\t}\r\n}\r\n","import { GameObject } from '../game-structure/game-object';\r\nimport { GameComponent } from '../game-components/core/base/game-component';\r\n\r\nexport class GameObjectCollection {\r\n\r\n\tpublic static root(gameObject: GameObject): GameObject {\r\n\t\tlet root = gameObject;\r\n\t\twhile (root.parent != null) {\r\n\t\t\troot = root.parent;\r\n\t\t}\r\n\t\treturn root;\r\n\t}\r\n\r\n\tpublic static remove(gameObject: GameObject): void {\r\n\t\tif (gameObject.parent == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst index = gameObject.parent.children.indexOf(gameObject);\r\n\t\tif (index === -1) {\r\n\t\t\tconsole.warn(`GameObjectCollection.remove: Object's not found`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tgameObject.parent.children.splice(index, 1);\r\n\t\tgameObject.parent = null;\r\n\t\tgameObject.destroy();\r\n\t}\r\n\r\n\tpublic static removeChildren(gameObject: GameObject): void {\r\n\t\tconst children = gameObject.children.slice();\r\n\t\tchildren.forEach((child) => {\r\n\t\t\tGameObjectCollection.remove(child);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static switch(objectA: GameObject, objectB: GameObject): void {\r\n\t\tif (objectA.parent !== objectB.parent) {\r\n\t\t\tconsole.warn(`GameObjectCollection.switch: Different parents`);\r\n\t\t}\r\n\t\tconst parent = objectA.parent;\r\n\t\tconst indexA = parent.children.indexOf(objectA);\r\n\t\tconst indexB = parent.children.indexOf(objectB);\r\n\t\tif (indexA === -1 || indexB === -1) {\r\n\t\t\tconsole.warn(`GameObjectCollection.switch: Object's not found, objectA: ${indexA}, objectB: ${indexB}`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tparent.children.splice(indexA, 1, objectB);\r\n\t\tparent.children.splice(indexB, 1, objectA);\r\n\t}\r\n\r\n\tpublic static insert(gameObject: GameObject, parent?: GameObject, insertAfter?: GameObject): void {\r\n\t\tGameObjectCollection.remove(gameObject);\r\n\r\n\t\tif (parent == null) {\r\n\t\t\tparent = GameObjectCollection.root(gameObject);\r\n\t\t}\r\n\r\n\t\tgameObject.parent = parent;\r\n\t\tconst index = insertAfter == null ? -1 : parent.children.indexOf(gameObject);\r\n\t\tparent.children.splice(index === -1 ? parent.children.length : index, 0, gameObject);\r\n\t\tgameObject.start();\r\n\t}\r\n\r\n\tpublic static findDescendantByName(name: string, gameObject: GameObject): GameObject {\r\n\t\tfor (const child of gameObject.children) {\r\n\t\t\tif (child.name === name) {\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\tconst grand = GameObjectCollection.findDescendantByName(name, child);\r\n\t\t\tif (grand != null) {\r\n\t\t\t\treturn grand;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic static getAllComponents<T = GameComponent>(componentName: string, gameObject: GameObject): T[] {\r\n\t\tlet result: T[] = [];\r\n\t\tconst component = gameObject.getComponent<T>(componentName);\r\n\t\tif (component != null) {\r\n\t\t\tresult.push(component);\r\n\t\t}\r\n\t\tfor (let i = 0; i < gameObject.children.length; i++) {\r\n\t\t\tconst childComponents = GameObjectCollection.getAllComponents<T>(componentName, gameObject.children[i]);\r\n\t\t\tresult = result.concat(childComponents);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\n\r\nexport class RestClient {\r\n\tpublic static httpClient: HttpClient;\r\n}\r\n","import { Transform } from '../game-structure/transform';\r\nimport { GameObject } from '../game-structure/game-object';\r\nimport { VMath } from '../common/v-math';\r\n\r\nexport class TransformCalculateSystem {\r\n\r\n\tprivate static instanceRef: TransformCalculateSystem;\r\n\r\n\tprivate rootGameObjects: Set<GameObject> = new Set();\r\n\tprivate objectsToUpdate: Set<GameObject> = new Set();\r\n\r\n\tpublic static instance(): TransformCalculateSystem {\r\n\t\tif (this.instanceRef == null) {\r\n\t\t\tthis.instanceRef = new TransformCalculateSystem();\r\n\t\t}\r\n\t\treturn this.instanceRef;\r\n\t}\r\n\r\n\tpublic registerForUpdate(transform: Transform): void {\r\n\r\n\t\tif (this.objectsToUpdate.has(transform.gameObject)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet root = transform.gameObject;\r\n\t\twhile (root != null) {\r\n\t\t\tthis.objectsToUpdate.add(root);\r\n\t\t\tif (root.parent == null) {\r\n\t\t\t\tthis.rootGameObjects.add(root);\r\n\t\t\t}\r\n\t\t\troot = root.parent;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tArray.from(this.rootGameObjects.values()).forEach((gameObject: GameObject) => {\r\n\t\t\tgameObject.transform.rotation = gameObject.transform.localRotation;\r\n\t\t\tgameObject.transform.position = gameObject.transform.localPosition;\r\n\t\t\tthis.processChildren(gameObject);\r\n\t\t});\r\n\r\n\t\tthis.objectsToUpdate.clear();\r\n\t\tthis.rootGameObjects.clear();\r\n\t}\r\n\r\n\tprivate processChildren(gameObject: GameObject): void {\r\n\t\tconst currentTransform = gameObject.transform;\r\n\r\n\t\tgameObject.children.forEach((ch: GameObject) => {\r\n\t\t\tconst newLocalPosition = VMath.rotate(ch.transform.localPosition, currentTransform.rotation);\r\n\t\t\tch.transform.position = currentTransform.position.add(newLocalPosition);\r\n\t\t\tch.transform.rotation = ch.transform.localRotation + currentTransform.rotation;\r\n\t\t\tthis.processChildren(ch);\r\n\t\t});\r\n\t}\r\n}\r\n","export enum EventMessageType {\r\n\tEmpty = 'Empty',\r\n\tGameStarted = 'GameStarted',\r\n\tGameUpdate = 'GameUpdate',\r\n}\r\nexport class EventMessage {\r\n\tpublic static empty(): EventMessage {\r\n\t\treturn new EventMessage(EventMessageType.Empty, null);\r\n\t}\r\n\r\n\tconstructor(public type: EventMessageType, public data: any) { }\r\n}\r\n","import { GameComponent } from '../base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { HtmlRendererGameComponent } from '../html-renderer-game-component/html-renderer-game-component';\r\nimport { Timer } from '../../../common/timer';\r\n\r\n@Exclude()\r\nexport class AnimateGameComponent extends GameComponent {\r\n\r\n\t@Expose()\r\n\tpublic name = AnimateGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic pathToTexture: string;\r\n\t@Expose()\r\n\tpublic slideWidth: number;\r\n\t@Expose()\r\n\tpublic slideHeight: number;\r\n\t@Expose()\r\n\tpublic slidesInARow: number;\r\n\t@Expose()\r\n\tpublic slidesCount: number;\r\n\t@Expose()\r\n\tpublic animationSpeed: number;\r\n\r\n\tpublic repeat: boolean;\r\n\tpublic animationFinished: () => void;\r\n\r\n\tprivate slide = 0;\r\n\tprivate xScale = 1;\r\n\tprivate yScale = 1;\r\n\r\n\tprivate baseCss = '';\r\n\tprivate backPos = '0 0;';\r\n\tprivate counter = 0;\r\n\r\n\tprivate paused = false;\r\n\r\n\tstart() {\r\n\t\tconst renderer = this.gameObject.getComponent(HtmlRendererGameComponent.name) as HtmlRendererGameComponent;\r\n\t\tif (renderer == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.xScale = this.slideWidth / this.gameObject.transform.width;\r\n\t\tthis.yScale = this.slideHeight / this.gameObject.transform.height;\r\n\t\tconst backgroundXSize = ((this.slideWidth * this.slidesInARow) / this.xScale);\r\n\t\tconst backgroundYSize = ((Math.ceil(this.slidesCount / this.slidesInARow) * this.slideHeight) / this.yScale);\r\n\r\n\t\tthis.baseCss =\r\n\t\t\t'position: absolute; ' +\r\n\t\t\t'background-size:' + backgroundXSize + 'px ' + backgroundYSize + 'px;';\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tconst renderer = this.gameObject.getComponent(HtmlRendererGameComponent.name) as HtmlRendererGameComponent;\r\n\t\tif (renderer == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trenderer.addAdditionalCss(this.baseCss + ' background-position:' + this.backPos);\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tif (this.paused === true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst timeToChange = 1 / this.animationSpeed;\r\n\r\n\t\tthis.counter += Timer.delta;\r\n\r\n\t\tif (this.counter < timeToChange) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.counter = 0;\r\n\r\n\t\tif (this.slide >= this.slidesCount) {\r\n\t\t\tif (this.animationFinished != null) {\r\n\t\t\t\tthis.animationFinished();\r\n\t\t\t}\r\n\t\t\tthis.slide = 0;\r\n\t\t}\r\n\r\n\t\tconst y = Math.floor(this.slide / this.slidesInARow);\r\n\t\tconst x = this.slide - (y * this.slidesInARow);\r\n\t\tconst xShift = (x * (this.slideWidth / this.xScale));\r\n\t\tconst yShift = (y * (this.slideHeight / this.yScale));\r\n\t\tthis.backPos = '-' + xShift + 'px -' + yShift + 'px;';\r\n\t\tthis.slide++;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tpublic isPaused(): boolean {\r\n\t\treturn this.paused;\r\n\t}\r\n\r\n\tpublic PauseAnimation(): void {\r\n\t\tthis.paused = true;\r\n\t}\r\n\r\n\tpublic ResumeAnimation(): void {\r\n\t\tthis.paused = false;\r\n\t}\r\n}\r\n\r\n","import { SimpleMoveGameComponent } from '../../user/simple-move-game-component';\r\nimport { HtmlRendererGameComponent } from '../html-renderer-game-component/html-renderer-game-component';\r\nimport { ShiftRightComponent } from '../../user/shift-right.component';\r\nimport { ResetToLeftComponent } from '../../user/reset-to-left.component';\r\nimport { RotateComponent } from '../../user/rotate.component';\r\nimport { ShowHideGameObjectComponent } from '../../user/show-hide-game-object-component';\r\nimport { TestOneComponent } from '../../user/test-one-component';\r\n\r\nexport class ComponentsRegistry {\r\n\tpublic static registry = new Map<string, () => any>();\r\n}\r\n\r\nComponentsRegistry.registry.set(ShiftRightComponent.name, () => ShiftRightComponent);\r\nComponentsRegistry.registry.set('SimpleMoveGameComponent', () => SimpleMoveGameComponent);\r\nComponentsRegistry.registry.set('HtmlRendererGameComponent', () => HtmlRendererGameComponent);\r\nComponentsRegistry.registry.set('ResetToLeftComponent', () => ResetToLeftComponent);\r\nComponentsRegistry.registry.set('RotateComponent', () => RotateComponent);\r\nComponentsRegistry.registry.set('ShowHideGameObjectComponent', () => ShowHideGameObjectComponent);\r\nComponentsRegistry.registry.set('TestOneComponent', () => TestOneComponent);\r\n\r\n\r\n\r\n","import { GameObject } from '../../../game-structure/game-object';\r\nimport { Exclude, Expose } from 'class-transformer';\r\n\r\n@Exclude()\r\nexport abstract class GameComponent {\r\n\r\n\tpublic abstract name: string;\r\n\r\n\t@Expose()\r\n\tactive: boolean;\r\n\r\n\tgameObject: GameObject;\r\n\r\n\tpublic abstract start();\r\n\r\n\tpublic abstract draw();\r\n\r\n\tpublic abstract update();\r\n\r\n\tpublic abstract destroy();\r\n}\r\n","import {GameComponent} from './base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { Rect } from '../../common/rect';\r\nimport { HtmlRendererGameComponent } from './html-renderer-game-component/html-renderer-game-component';\r\n\r\n@Exclude()\r\nexport class CollisionGameComponent extends GameComponent {\r\n\r\n\tpublic name = CollisionGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic meshCollider: Rect[] = [];\r\n\r\n\tpublic collisions: CollisionGameComponent[] = [];\r\n\r\n\tpublic start(): void {\r\n\t}\r\n\r\n\tpublic draw(): void {\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tif (this.collisions.length > 0) {\r\n\t\t\tconst renderer = this.gameObject.getComponent<HtmlRendererGameComponent>(HtmlRendererGameComponent.name);\r\n\t\t\tif (renderer != null) {\r\n\t\t\t\trenderer.addAdditionalCss(' background-color: #F00');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t}\r\n\r\n\tpublic collideWith(component: CollisionGameComponent): boolean {\r\n\t\tconst shiftX = this.gameObject.transform.position.x - this.gameObject.transform.width / 2;\r\n\t\tconst shiftY = this.gameObject.transform.position.y - this.gameObject.transform.height / 2;\r\n\r\n\t\tconst shiftComponentX = component.gameObject.transform.position.x - component.gameObject.transform.width / 2;\r\n\t\tconst shiftComponentY = component.gameObject.transform.position.y - component.gameObject.transform.height / 2;\r\n\r\n\t\tfor (let i = 0; i < this.meshCollider.length; i++) {\r\n\t\t\tconst firstRect = this.meshCollider[i];\r\n\t\t\tconst firstRectGlobal = firstRect.clone().shift(shiftX, shiftY);\r\n\t\t\tfor (let p = 0; p < component.meshCollider.length; p++) {\r\n\t\t\t\tconst secondRect = component.meshCollider[p];\r\n\t\t\t\tconst secondRectGlobal = secondRect.clone().shift(shiftComponentX, shiftComponentY);\r\n\t\t\t\tif (firstRectGlobal.intersects(secondRectGlobal)) {\r\n\t\t\t\t\tthis.collisions.push(component);\r\n\t\t\t\t\tcomponent.collisions.push(this);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n","import { GameObject } from '../../../game-structure/game-object';\r\nimport { Guid } from '../../../common/guid';\r\n\r\nexport class GameObjectRenderInfo {\r\n\tpublic id: string = null;\r\n\tpublic left: number = null;\r\n\tpublic top: number = null;\r\n\tpublic width: number = null;\r\n\tpublic height: number = null;\r\n\tpublic rotation: number = null;\r\n\tpublic backgroundImage: string = null;\r\n\tpublic text: string = null;\r\n\tpublic cssStyle: string = null;\r\n\r\n\tpublic static fromGameObject(gameObject: GameObject): GameObjectRenderInfo {\r\n\t\treturn {\r\n\t\t\tid: Guid.create(),\r\n\t\t\tleft: gameObject.transform.position.x,\r\n\t\t\ttop: gameObject.transform.position.y,\r\n\t\t\twidth: gameObject.transform.width,\r\n\t\t\theight: gameObject.transform.height,\r\n\t\t\trotation: gameObject.transform.rotation,\r\n\t\t\tbackgroundImage: null,\r\n\t\t\ttext: null,\r\n\t\t\tcssStyle: null\r\n\t\t};\r\n\t}\r\n}\r\n","import { GameObject } from '../../../game-structure/game-object';\r\nimport { GameComponent } from '../base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { GameObjectRenderInfo } from './game-object-render-info';\r\n\r\n@Exclude()\r\nexport class HtmlRendererGameComponent extends GameComponent {\r\n\r\n\t@Expose()\r\n\tpublic name = HtmlRendererGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic backgroundImage: string;\r\n\r\n\t@Expose()\r\n\tpublic cssStyle: string;\r\n\r\n\tpublic gameObject: GameObject;\r\n\r\n\tpublic renderInfo: GameObjectRenderInfo;\r\n\r\n\tprivate additionalCss = '';\r\n\tprivate image: HTMLImageElement;\r\n\r\n\tstart(): void {\r\n\t\tthis.renderInfo = GameObjectRenderInfo.fromGameObject(this.gameObject);\r\n\r\n\t\t// todo this is a pre-load of the images, but it should be moved into the initial game loading procedure with progress bar.\r\n\t\tif (this.backgroundImage != null) {\r\n\t\t\tthis.image = new Image();\r\n\t\t\tthis.image.src = this.backgroundImage;\r\n\t\t}\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t\tthis.renderInfo.height = this.gameObject.transform.height;\r\n\t\tthis.renderInfo.width = this.gameObject.transform.width;\r\n\t\tthis.renderInfo.left = this.gameObject.transform.position.x - (this.gameObject.transform.width / 2);\r\n\t\tthis.renderInfo.top = this.gameObject.transform.position.y - (this.gameObject.transform.height / 2);\r\n\t\tthis.renderInfo.rotation = this.gameObject.transform.rotation;\r\n\t\tthis.renderInfo.backgroundImage = this.backgroundImage != null ? 'url(\"' + this.backgroundImage + '\")' : null;\r\n\t\tthis.renderInfo.text = this.gameObject.text;\r\n\t\tthis.renderInfo.cssStyle = this.cssStyle + ' ' + this.additionalCss;\r\n\t\tthis.additionalCss = ''; // cleanUp;\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tpublic addAdditionalCss(css: string): void {\r\n\t\tthis.additionalCss += css;\r\n\t}\r\n}\r\n\r\n","export enum SvgElementType {\r\n\tLine = 'Line',\r\n\tCircle = 'Circle',\r\n\tRect = 'Rect',\r\n\tPath = 'Path'\r\n}\r\n","export enum SvgPathElementType {\r\n\tMoveTo = 'M',\r\n\tMoveToShift  = 'm',\r\n\tLineTo = 'L',\r\n\tCubicBezierCurve = 'C',\r\n\tQuadraticBezierCurve = 'Q',\r\n\tEllipticalArcCurve = 'A',\r\n\tClosePath = 'Z'\r\n}\r\n\r\nexport class SvgPathElement {\r\n\tpublic type: SvgPathElementType;\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\r\n\tconstructor(type: SvgPathElementType, x: number, y: number) {\r\n\t\tthis.type = type;\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\ttoString(shiftX: number = 0, shiftY: number = 0): string {\r\n\t\tswitch (this.type) {\r\n\t\t\tcase SvgPathElementType.MoveTo:\r\n\t\t\t\treturn `M ${this.x + shiftX},${this.y + shiftY}`;\r\n\t\t\tcase SvgPathElementType.MoveToShift:\r\n\t\t\t\treturn `m ${this.x + shiftX},${this.y + shiftY}`;\r\n\t\t\tcase SvgPathElementType.LineTo:\r\n\t\t\t\treturn `L ${this.x + shiftX},${this.y + shiftY}`;\r\n\t\t\tdefault:\r\n\t\t\t\t// implement all types https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d\r\n\t\t\t\tthrow new Error('Path type is not implemented.');\r\n\t\t}\r\n\t}\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { GameObject } from '../../game-structure/game-object';\r\nimport { SvgElementType } from './svg-element-type';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { SvgPathElement } from './svg-path-element';\r\n\r\n\r\n@Exclude()\r\nexport class SvgRendererGameComponent extends GameComponent {\r\n\r\n\t@Expose()\r\n\tpublic name = SvgRendererGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic type: SvgElementType;\r\n\r\n\t@Expose()\r\n\tpublic x: number;\r\n\r\n\t@Expose()\r\n\tpublic y: number;\r\n\r\n\t@Expose()\r\n\tpublic x1: number;\r\n\r\n\t@Expose()\r\n\tpublic y1: number;\r\n\r\n\t@Expose()\r\n\tpublic r: number;\r\n\r\n\t@Expose()\r\n\tpublic stroke = '#000';\r\n\r\n\t@Expose()\r\n\tpublic fill = 'transparent';\r\n\r\n\t@Expose()\r\n\tpublic strokeWidth = 1;\r\n\r\n\t@Expose()\r\n\tpublic strokeDasharray = '0';\r\n\r\n\t@Expose()\r\n\tpublic pathElements: SvgPathElement[] = [];\r\n\r\n\tpublic gameObject: GameObject;\r\n\r\n\tpublic svgElement: string;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t\tswitch (this.type) {\r\n\t\t\tcase SvgElementType.Line:\r\n\t\t\t\tconst from = this.toGlobal(this.x, this.y);\r\n\t\t\t\tconst to = this.toGlobal(this.x1, this.y1);\r\n\t\t\t\tthis.svgElement = `<line x1=\"${from.x}\" y1=\"${from.y}\" x2=\"${to.x}\" y2=\"${to.y}\" ${this.commonAttributes()}/>`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SvgElementType.Circle:\r\n\t\t\t\tconst cFrom = this.toGlobal(this.x, this.y);\r\n\t\t\t\tthis.svgElement = `<Circle cx=\"${cFrom.x}\" cy=\"${cFrom.y}\" r=\"${this.r}\" ${this.commonAttributes()}/>`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SvgElementType.Rect:\r\n\t\t\t\tconst rFrom = this.toGlobal(this.x, this.y);\r\n\t\t\t\tthis.svgElement = `<Rect x=\"${rFrom.x}\" y=\"${rFrom.y}\"\r\n\t\t\t\t\t\t\t\t\twidth=\"${this.gameObject.transform.width} height=\"${this.gameObject.transform.height}\"\r\n\t\t\t\t\t\t\t\t\t${this.commonAttributes()}/>`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SvgElementType.Path:\r\n\t\t\t\tthis.svgElement = `<Path d=\"${this.getPath()}\" ${this.commonAttributes()}/>`;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tprivate toGlobal(x: number, y: number): Vector2 {\r\n\t\tconst globalPosition = this.gameObject.transform.position;\r\n\t\treturn new Vector2(globalPosition.x + x, globalPosition.y + y);\r\n\t}\r\n\r\n\tprivate rotateString(): string {\r\n\t\tconst globalPosition = this.gameObject.transform.position;\r\n\t\treturn `${this.gameObject.transform.rotation} ${globalPosition.x} ${globalPosition.y}`;\r\n\t}\r\n\r\n\tprivate commonAttributes(): string {\r\n\t\treturn `stroke=\"${this.stroke}\" fill=\"${this.fill}\"\r\n\t\t\t\t\t\t\t\t\tstroke-width=\"${this.strokeWidth}\" stroke-dasharray='${this.strokeDasharray}'\r\n\t\t\t\t\t\t\t\t\ttransform=\"rotate(${this.rotateString()})\"`;\r\n\t}\r\n\r\n\tprivate getPath(): string {\r\n\t\tconst globalPosition = this.gameObject.transform.position;\r\n\t\treturn this.pathElements.map((element) => element.toString(globalPosition.x, globalPosition.y)).join(' ');\r\n\t}\r\n}\r\n\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Vector2 } from '../../common/vector2';\r\n\r\n@Exclude()\r\nexport class ResetToLeftComponent extends GameComponent {\r\n\r\n\tpublic name = ResetToLeftComponent.name;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tif (this.gameObject.transform.position.x > 1920) {\r\n\t\t\tthis.gameObject.transform.localPosition = new Vector2(-100, this.gameObject.transform.localPosition.y);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { VMath } from '../../common/v-math';\r\n\r\n@Exclude()\r\nexport class RotateComponent extends GameComponent {\r\n\r\n\tpublic name = RotateComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic rotation = 90;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst angle = this.rotation * Timer.delta;\r\n\t\tthis.gameObject.transform.localRotation += angle;\r\n\t\tthis.gameObject.transform.localPosition = VMath.rotate(this.gameObject.transform.localPosition, angle);\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { Vector2 } from '../../common/vector2';\r\n\r\n@Exclude()\r\nexport class ShiftRightComponent extends GameComponent {\r\n\r\n\tpublic name = ShiftRightComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic speed = null;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst x = this.gameObject.transform.localPosition.x + this.speed * Timer.delta;\r\n\t\tconst y = this.gameObject.transform.localPosition.y;\r\n\t\tthis.gameObject.transform.localPosition = new Vector2(x, y);\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n\r\n","import { Exclude } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { GameObject } from '../../game-structure/game-object';\r\nimport { Input } from '../../input/input';\r\n\r\n@Exclude()\r\nexport class ShowHideGameObjectComponent extends GameComponent {\r\n\r\n\tpublic name = ShowHideGameObjectComponent.name;\r\n\r\n\tpublic gameObjectToHide: GameObject;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tif (Input.getKeyDown('Enter')) {\r\n\t\t\tthis.gameObjectToHide.active = !this.gameObjectToHide.active;\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { Exclude, Expose, Type } from 'class-transformer';\r\nimport { VMath } from '../../common/v-math';\r\n\r\n@Exclude()\r\nexport class SimpleMoveGameComponent extends GameComponent {\r\n\r\n\tpublic name = SimpleMoveGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic speed = null;\r\n\r\n\t@Expose()\r\n\tpublic rotation = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tpublic direction: Vector2 = null;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\r\n\t\tlet angle = this.gameObject.transform.rotation;\r\n\t\tangle += this.rotation * Timer.delta;\r\n\t\tif (angle > 360) {\r\n\t\t\tangle = angle - 360;\r\n\t\t}\r\n\t\tconst position = this.gameObject.transform.localPosition;\r\n\r\n\t\tconst direction = VMath.rotate(new Vector2(1, 0), angle);\r\n\r\n\r\n\t\tthis.gameObject.transform.localPosition = VMath.add(position, VMath.multiply(direction, this.speed * Timer.delta));\r\n\t\tthis.gameObject.transform.localRotation = angle;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","import { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { Exclude, Expose, Type } from 'class-transformer';\r\nimport { VMath } from '../../common/v-math';\r\nimport { GameObject } from '../../game-structure/game-object';\r\nimport { GameObjectFactory } from '../../core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../core/factory/transform-factory';\r\nimport { ComponentFactory } from '../../core/factory/component-factory';\r\nimport { HtmlRendererGameComponent } from '../core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../common/name-value-pair';\r\nimport { GameObjectCollection } from '../../core/game-object-collection';\r\n\r\ninterface SparkInfo {\r\n\tdirection: Vector2;\r\n\tcolor: number;\r\n\tspeed: number;\r\n\tgameObject: GameObject;\r\n\tgravitySpeed: number;\r\n}\r\n\r\n\r\n@Exclude()\r\nexport class SparksComponent extends GameComponent {\r\n\r\n\tpublic name = SparksComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic speed = null;\r\n\r\n\t@Expose()\r\n\tpublic amount = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tpublic gravity: Vector2 = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tpublic shift: Vector2 = null;\r\n\r\n\t@Expose()\r\n\tpublic gravityValue = 9.8;\r\n\r\n\t@Expose()\r\n\tpublic initScatter = 9.8;\r\n\r\n\tprivate sparks: SparkInfo[] = [];\r\n\r\n\tstart(): void {\r\n\t\tfor (let i = 0; i < this.amount; i++) {\r\n\t\t\tthis.createNewSpark(i);\r\n\t\t\tthis.sparks[i].color = VMath.randIntMaxIncluded(1, 255);\r\n\t\t}\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tfor (let i = 0; i < this.amount; i++) {\r\n\t\t\tthis.updateSpark(i);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tprivate updateSpark(index: number): void {\r\n\t\tif (this.sparks[index] == null) {\r\n\t\t\tthis.createNewSpark(index);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst spark = this.sparks[index];\r\n\t\tspark.color = spark.color - this.speed;\r\n\t\tif (spark.color < 0) {\r\n\t\t\tGameObjectCollection.remove(spark.gameObject);\r\n\t\t\tthis.sparks[index] = null;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tspark.gravitySpeed += this.gravityValue * Timer.delta;\r\n\t\tconst deltaSpeed = spark.speed * Timer.delta;\r\n\t\tconst shift = VMath.multiply(spark.direction.add(VMath.multiply(this.gravity, spark.gravitySpeed)), deltaSpeed);\r\n\t\tspark.gameObject.transform.localPosition = spark.gameObject.transform.localPosition.add(shift);\r\n\r\n\t\tconst htmlComponent = spark.gameObject.getComponent(HtmlRendererGameComponent.name) as HtmlRendererGameComponent;\r\n\t\thtmlComponent.cssStyle = `color: rgba(${Math.ceil(spark.color)}, 0, 0, ${/*spark.color / 255*/1}); font-size: 10px;`;\r\n\r\n\t}\r\n\r\n\tprivate createNewSpark(index: number): void {\r\n\t\tconst direction =  VMath.rotate(Vector2.one, VMath.randIntMaxIncluded(0, 360));\r\n\t\tlet position = this.gameObject.transform.position.add(VMath.multiply(direction, VMath.randIntMaxIncluded(0, this.initScatter)));\r\n\t\tposition = position.add(this.shift);\r\n\r\n\t\tconst root = GameObjectCollection.root(this.gameObject);\r\n\t\tconst gameObject = GameObjectFactory.createGameObject(\r\n\t\t\troot,\r\n\t\t\t'spark' + index,\r\n\t\t\tTransformFactory.createLocalTransform(root.transform, position, 5, 5, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'color: #FF0000; font-size: 10px;')\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue,\r\n\t\t\t'*'\r\n\t\t\t);\r\n\r\n\t\tthis.sparks[index] = {\r\n\t\t\tdirection,\r\n\t\t\tcolor: 255,\r\n\t\t\tgameObject,\r\n\t\t\tspeed: VMath.randIntMaxIncluded(10, 50),\r\n\t\t\tgravitySpeed: 0\r\n\t\t};\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { Timer } from '../../common/timer';\r\n\r\n\r\n@Exclude()\r\nexport class TestOneComponent extends GameComponent {\r\n\r\n\tpublic name = TestOneComponent.name;\r\n\r\n\tpublic startX: number;\r\n\tpublic stopX: number;\r\n\tpublic speed: number;\r\n\r\n\tstart(): void {\r\n\t\tthis.gameObject.transform.localPosition = new Vector2(this.startX, this.gameObject.transform.localPosition.y);\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst currentPos = this.gameObject.transform.localPosition;\r\n\t\tif (currentPos.x >= this.stopX) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst offsetX = this.speed * Timer.delta;\r\n\t\tthis.gameObject.transform.localPosition = new Vector2(currentPos.x + offsetX, currentPos.y);\r\n\t\tif (this.gameObject.transform.localPosition.x > this.stopX) {\r\n\t\t\tthis.gameObject.transform.localPosition = new Vector2(this.stopX, currentPos.y);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { GameComponent } from '../core/base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { Rect } from '../../common/rect';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { VMath } from '../../common/v-math';\r\nimport { Timer } from '../../common/timer';\r\nimport { Angle } from '../../common/angle';\r\n\r\nenum WalkerOperation {\r\n\tNone = 'None',\r\n\tMoveTo = 'MoveLeft',\r\n\tWeld = 'Welding'\r\n}\r\n\r\ninterface MoveToWithRotate {\r\n\tmoveToVector: Vector2;\r\n\ttoAngle: Angle;\r\n\tisRotating: boolean;\r\n}\r\n\r\n@Exclude()\r\nexport class WalkerComponent extends GameComponent  {\r\n\r\n\tpublic name = WalkerComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic walkArea: Rect = null;\r\n\r\n\t@Expose()\r\n\tpublic moveSpeed: number = null;\r\n\r\n\t@Expose()\r\n\tpublic rotateSpeed: number = null;\r\n\r\n\tprivate operations: Map<WalkerOperation, () => void> = new Map<WalkerOperation, () => void>();\r\n\r\n\tprivate currentOperation: WalkerOperation = WalkerOperation.None;\r\n\tprivate startTime: number;\r\n\tprivate waitMSecs: number;\r\n\r\n\tprivate moveToWithRotateData: MoveToWithRotate;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.operations.set(WalkerOperation.None, () => {});\r\n\t\tthis.operations.set(WalkerOperation.MoveTo, () => { this.moveToOperation(); });\r\n\t\tthis.operations.set(WalkerOperation.Weld, () => { this.weldOperation(); });\r\n\t}\r\n\r\n\tpublic start(): void {\r\n\t}\r\n\r\n\tpublic draw(): void {\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tif (this.currentOperation === WalkerOperation.None) {\r\n\t\t\tthis.startNewRandomOperation();\r\n\t\t}\r\n\t\tthis.operations.get(this.currentOperation)();\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t}\r\n\r\n\tprivate startNewRandomOperation(): void {\r\n\t\tconst operation = VMath.randIntMaxIncluded(0, 1);\r\n\t\tswitch (operation) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.currentOperation = WalkerOperation.MoveTo;\r\n\t\t\t\tconst angle = Angle.rand();\r\n\t\t\t\tthis.moveToWithRotateData = {\r\n\t\t\t\t\ttoAngle: new Angle(angle),\r\n\t\t\t\t\tmoveToVector: VMath.rotate(new Vector2(0, 1), angle),\r\n\t\t\t\t\tisRotating: true\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t// todo weld (sparks)\r\n\t\t\t\tthis.startTime = Timer.getTime();\r\n\t\t\t\tthis.waitMSecs = 2000;\r\n\t\t\t\tthis.currentOperation = WalkerOperation.Weld;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate moveToOperation(): void {\r\n\t\tif (this.moveToWithRotateData.isRotating) {\r\n\t\t\tconst angle = new Angle(this.gameObject.transform.localRotation);\r\n\t\t\tif (angle.rotateTo(this.moveToWithRotateData.toAngle, this.rotateSpeed * Timer.delta)) {\r\n\t\t\t\tthis.moveToWithRotateData.isRotating = false;\r\n\t\t\t}\r\n\t\t\tthis.gameObject.transform.localRotation = angle.value;\r\n\t\t\t// return;\r\n\t\t}\r\n\r\n\t\tconst pos = this.gameObject.transform.localPosition;\r\n\t\tconst newPos = pos.add(VMath.multiply(this.moveToWithRotateData.moveToVector, this.moveSpeed * Timer.delta));\r\n\r\n\t\tif (!this.walkArea.isInside(newPos)) {\r\n\t\t\tthis.currentOperation = WalkerOperation.None;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.gameObject.transform.localPosition = newPos;\r\n\t}\r\n\r\n\tprivate weldOperation(): void {\r\n\t\tif (this.startTime + this.waitMSecs > Timer.getTime()) {\r\n\t\t\tthis.currentOperation = WalkerOperation.None;\r\n\t\t}\r\n\t}\r\n}\r\n","import { BehaviorSubject, Subject } from 'rxjs';\r\nimport { EventMessage, EventMessageType } from './events/event-message';\r\n\r\nexport class GameEventManager {\r\n\tprivate static onGameEventSubject = new BehaviorSubject<EventMessage>(EventMessage.empty());\r\n\r\n\tpublic static events(): Subject<EventMessage> {\r\n\t\treturn this.onGameEventSubject;\r\n\t}\r\n\r\n\tpublic static publish(event: EventMessage): void {\r\n\t\tthis.onGameEventSubject.next(event);\r\n\t}\r\n}\r\n","import { GameComponent } from '../game-components/core/base/game-component';\r\nimport { ComponentsRegistry } from '../game-components/core/base/components-registry';\r\nimport { plainToClass } from 'class-transformer';\r\n\r\nexport class ComponentBuilder {\r\n\r\n\tpublic static build(component: GameComponent[]): GameComponent[] {\r\n\t\tif (component == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn component.map((c) => {\r\n\t\t\tconst factory = ComponentsRegistry.registry.get(c.name);\r\n\t\t\treturn plainToClass(factory(), component) as any;\r\n\t\t});\r\n\t}\r\n}\r\n","import { GameData } from '../game-structure/game-data';\r\nimport { plainToClass } from 'class-transformer';\r\nimport { HardcodedGameData } from './hardcoded-game-data';\r\n\r\nexport class GameLoader {\r\n\r\n\tpublic static load(): GameData {\r\n\t\treturn HardcodedGameData.getData();\r\n\t}\r\n\r\n\tpublic static loadFromJson(dataJson: any): GameData {\r\n\t\tconst data = plainToClass(GameData, dataJson) as any;\r\n\t\treturn data as GameData;\r\n\t}\r\n}\r\n","import { GameScene } from '../game-structure/game-scene';\r\nimport { GameObject } from '../game-structure/game-object';\r\nimport { Vector2 } from '../common/vector2';\r\nimport { NameValuePair } from '../common/name-value-pair';\r\nimport { GameData } from '../game-structure/game-data';\r\nimport { ComponentFactory } from '../core/factory/component-factory';\r\nimport { SparksComponent } from '../game-components/user/sparks.component';\r\nimport { GameObjectFactory } from '../core/factory/game-object-factory';\r\nimport { TransformFactory } from '../core/factory/transform-factory';\r\nimport { HtmlRendererGameComponent } from '../game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { RotateComponent } from '../game-components/user/rotate.component';\r\nimport { ShowHideGameObjectComponent } from '../game-components/user/show-hide-game-object-component';\r\nimport { Rect } from '../common/rect';\r\nimport { WalkerComponent } from '../game-components/user/walker.component';\r\nimport { VMath } from '../common/v-math';\r\nimport { ImpossibleDinoData } from '../../_games/impossible-dino/data/impossible-dino-data';\r\n\r\nexport class HardcodedGameData {\r\n\r\n\tpublic static getData(): GameData {\r\n\t\treturn new GameData(\r\n\t\t\t[\r\n\t\t\t\tHardcodedGameData.getScene()\r\n\t\t\t]\r\n\t\t);\r\n\t}\r\n\r\n\tprivate static getScene(): GameScene {\r\n\t\tconst rootGameObject = ImpossibleDinoData.getData();\r\n\t\treturn new GameScene('Main Scene', rootGameObject);\r\n\t}\r\n\r\n\r\n\tprivate static createStarShipGameObjects(): GameObject {\r\n\r\n\t\tconst rootGameObject = GameObjectFactory.createGameObject(\r\n\t\t\tnull,\r\n\t\t\t'root',\r\n\t\t\tTransformFactory.createGlobalTransform(null, new Vector2(0, 0), 0, 0, 0),\r\n\t\t\t[],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tGameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Button 1',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(100, 25), 150, 25, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'color: #FAA; font-size: 14px; padding-top: 5px; text-align: center; cursor: pointer'),\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/button-one.png')\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue,\r\n\t\t\t'BUTTON ONE!!!'\r\n\t\t);\r\n\r\n\t\tconst deathStar = GameObjectFactory.createGameObject( rootGameObject,\r\n\t\t\t'DeathStar',\r\n\t\t\tTransformFactory.createGlobalTransform(rootGameObject.transform, new Vector2(100, 100), 100, 100, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/death-star.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'color: white; font-size: 40px;')\r\n\t\t\t\t], true),\r\n\t\t\t\t/*ComponentFactory.createComponent(SimpleMoveGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 100),\r\n\t\t\t\t\tnew NameValuePair('direction', new Vector2(1, 0.5)),\r\n\t\t\t\t\tnew NameValuePair('rotation', 45)\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(ShiftRightComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 100)\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(ResetToLeftComponent, [], true)*/\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst satellite = GameObjectFactory.createGameObject(\r\n\t\t\tdeathStar,\r\n\t\t\t'Satellite',\r\n\t\t\tTransformFactory.createLocalTransform(deathStar.transform, new Vector2(0, 70), 30, 30, 180),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/cruiser.png')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(RotateComponent, [\r\n\t\t\t\t\tnew NameValuePair('rotation', 90)\r\n\t\t\t\t], true),\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst SatelliteFire = GameObjectFactory.createGameObject(\r\n\t\t\tsatellite,\r\n\t\t\t'Satellite fire',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, new Vector2(-15, 0), 2, 2, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(SparksComponent, [\r\n\t\t\t\t\tnew NameValuePair('active', true),\r\n\t\t\t\t\tnew NameValuePair('amount', 10),\r\n\t\t\t\t\tnew NameValuePair('speed', 10),\r\n\t\t\t\t\tnew NameValuePair('gravity', new Vector2(0, 0)),\r\n\t\t\t\t\tnew NameValuePair('gravityValue', 9.8),\r\n\t\t\t\t\tnew NameValuePair('initScatter', 0),\r\n\t\t\t\t\tnew NameValuePair('shift', new Vector2(0, 0))\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst shComponent = ComponentFactory.createComponent<ShowHideGameObjectComponent>(ShowHideGameObjectComponent, [], true);\r\n\t\tshComponent.gameObjectToHide = satellite;\r\n\t\tdeathStar.components.push(shComponent);\r\n\r\n\r\n\t\tconst shiftX = 400;\r\n\t\tconst shiftY = 400;\r\n\t\tconst start = new Vector2(0, 200);\r\n\t\tconst shiftAngle = 20;\r\n\t\tconst mosaics: GameObject[] = [];\r\n\t\tfor (let i = 0; i < 360; i += shiftAngle) {\r\n\t\t\tconst curr = VMath.rotate(start, i);\r\n\t\t\tmosaics.push(HardcodedGameData.createMosaic(curr.x + shiftX, curr.y + shiftY, rootGameObject));\r\n\t\t}\r\n\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[0], 'assets/img/unit-round-0-empty.png', 45);\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[8], 'assets/img/unit-round-1-empty.png', 90);\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[12], 'assets/img/unit-round-2-empty.png', 135);\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[4], 'assets/img/unit-round-3-empty.png', 180);\r\n\r\n\t\treturn rootGameObject;\r\n\t}\r\n\r\n\tprivate static createMosaic(x: number, y: number, rootGameObject: GameObject): GameObject {\r\n\t\treturn GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'mosaic-silver',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, new Vector2(x, y), 50, 50, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/mosaic-silver.png')\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t}\r\n\r\n\tprivate static createStarUnit(rootGameObject: GameObject, mosaic: GameObject, image, rotateSpeed): GameObject {\r\n\t\tconst starUnit = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Star Unit',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, mosaic.transform.localPosition.clone(), 77, 77, 45),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', `${image}`)\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(WalkerComponent, [\r\n\t\t\t\t\tnew NameValuePair('walkArea', new Rect(\r\n\t\t\t\t\t\tmosaic.transform.localPosition.x - 25,\r\n\t\t\t\t\t\tmosaic.transform.localPosition.y - 25,\r\n\t\t\t\t\t\t50,\r\n\t\t\t\t\t\t50)),\r\n\t\t\t\t\tnew NameValuePair('moveSpeed', 25),\r\n\t\t\t\t\tnew NameValuePair('rotateSpeed', rotateSpeed)\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst starUnitFire = GameObjectFactory.createGameObject(\r\n\t\t\tstarUnit,\r\n\t\t\t'Star Unit fire',\r\n\t\t\tTransformFactory.createLocalTransform(rootGameObject.transform, new Vector2(0, 0), 2, 2, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(SparksComponent, [\r\n\t\t\t\t\tnew NameValuePair('active', true),\r\n\t\t\t\t\tnew NameValuePair('amount', 50),\r\n\t\t\t\t\tnew NameValuePair('speed', 1),\r\n\t\t\t\t\tnew NameValuePair('gravity', new Vector2(0, 1)),\r\n\t\t\t\t\tnew NameValuePair('gravityValue', 2.8),\r\n\t\t\t\t\tnew NameValuePair('initScatter', 0),\r\n\t\t\t\t\tnew NameValuePair('shift', new Vector2(0, 0))\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t\treturn starUnit;\r\n\t}\r\n}\r\n\r\n","import { GameLoader } from './game-loader/game-loader';\r\nimport { GameData } from './game-structure/game-data';\r\nimport { Subscription } from 'rxjs';\r\nimport { EventMessage, EventMessageType } from './events/event-message';\r\nimport { Timer } from './common/timer';\r\nimport { GameProcessor } from './game-processor';\r\nimport { GameScene } from './game-structure/game-scene';\r\nimport { GameEventManager } from './game-event-manager';\r\n\r\nexport class GameManager {\r\n\tprivate static gameManagerInstance: GameManager = null;\r\n\r\n\tprivate gameData: GameData = null;\r\n\tprivate currentScene: GameScene = null;\r\n\tprivate timerSubscription: Subscription = null;\r\n\r\n\tpublic static instance(): GameManager {\r\n\t\tif (GameManager.gameManagerInstance == null) {\r\n\t\t\tGameManager.gameManagerInstance = new GameManager();\r\n\t\t}\r\n\t\treturn GameManager.gameManagerInstance;\r\n\t}\r\n\r\n\tpublic load(): void {\r\n\t\tthis.gameData = GameLoader.load();\r\n\t\tthis.currentScene = this.gameData.scenes[0];\r\n\t\tthis.setTimer();\r\n\t\tGameEventManager.publish(new EventMessage(EventMessageType.GameStarted, this.currentScene.rootGameObject.children));\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t\tif (this.timerSubscription) {\r\n\t\t\tthis.timerSubscription.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setTimer(): void {\r\n\t\tTimer.divider = 1;\r\n\r\n\t\tif (this.timerSubscription) {\r\n\t\t\tthis.timerSubscription.unsubscribe();\r\n\t\t}\r\n\t\tthis.timerSubscription = Timer.timerEvent.subscribe(() => {\r\n\t\t\tGameProcessor.process(this.currentScene.rootGameObject);\r\n\t\t\tGameEventManager.publish(new EventMessage(EventMessageType.GameUpdate, this.currentScene));\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","import { CollisionsProcessor } from './physics/collisions-processor';\r\nimport { TransformCalculateSystem } from './core/transform-calculate-system';\r\nimport { Input } from './input/input';\r\nimport { GameObject } from './game-structure/game-object';\r\n\r\nexport class GameProcessor {\r\n\r\n\tpublic static process(rootGameObject: GameObject): void {\r\n\r\n\t\trootGameObject.update();\r\n\r\n\t\tTransformCalculateSystem.instance().update();\r\n\r\n\t\tCollisionsProcessor.checkCollisions(rootGameObject);\r\n\r\n\t\trootGameObject.draw();\r\n\r\n\t\tInput.frameEnd();\r\n\t}\r\n}\r\n","import { Exclude, Expose, Type } from 'class-transformer';\r\nimport { GameScene } from './game-scene';\r\n\r\n@Exclude()\r\nexport class GameData {\r\n\t@Expose()\r\n\t@Type(() => GameScene)\r\n\tscenes: GameScene[];\r\n\r\n\tconstructor(scenes: GameScene[]) {\r\n\t\tthis.scenes = scenes;\r\n\t}\r\n}\r\n","import { Exclude, Expose, Transform as TransformAttr, Type } from 'class-transformer';\r\nimport { Transform } from './transform';\r\nimport { GameComponent } from '../game-components/core/base/game-component';\r\nimport { ComponentBuilder } from '../game-loader/component-builder';\r\n\r\n@Exclude()\r\nexport class GameObject {\r\n\r\n\t@Expose()\r\n\tpublic name: string = null;\r\n\r\n\t@Expose()\r\n\t@TransformAttr(value => ComponentBuilder.build(value), {toClassOnly: true})\r\n\tpublic components: GameComponent[] = [];\r\n\r\n\t@Expose()\r\n\t@Type(() => Transform)\r\n\tpublic transform: Transform = new Transform();\r\n\r\n\t@Expose()\r\n\t@Type(() => GameObject)\r\n\tpublic children: GameObject[] = [];\r\n\r\n\t@Expose()\r\n\t@Type(() => GameObject)\r\n\tpublic parent: GameObject = null;\r\n\r\n\t@Expose()\r\n\tpublic text: string;\r\n\r\n\t@Expose()\r\n\tpublic active: boolean;\r\n\r\n\t@Expose()\r\n\tpublic paused: boolean;\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic getComponent<T = GameComponent>(componentName: string): T {\r\n\t\treturn this.components.find((c) => c.name === componentName) as unknown as T;\r\n\t}\r\n\r\n\tstart(): void {\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tcomponent.start();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.start();\r\n\t\t});\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tif (!this.active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tif (!component.active) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcomponent.draw();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.draw();\r\n\t\t});\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tif (!this.active || this.paused) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tif (!component.active) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcomponent.update();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.update();\r\n\t\t});\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tcomponent.destroy();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.destroy();\r\n\t\t});\r\n\t}\r\n}\r\n","import { Exclude, Expose, Type } from 'class-transformer';\r\nimport { GameObject } from './game-object';\r\n\r\n@Exclude()\r\nexport class GameScene {\r\n  @Expose()\r\n  public name: string;\r\n  @Expose()\r\n  @Type(() => GameObject)\r\n  public rootGameObject: GameObject;\r\n\r\n  constructor(name: string, gameObject: GameObject) {\r\n  \tthis.name = name;\r\n  \tthis.rootGameObject = gameObject;\r\n  }\r\n}\r\n","import { Exclude, Expose, Type } from 'class-transformer';\r\nimport { Vector2 } from '../common/vector2';\r\nimport { GameObject } from './game-object';\r\nimport { VMath } from '../common/v-math';\r\nimport { TransformCalculateSystem } from '../core/transform-calculate-system';\r\nimport { Rect } from '../common/rect';\r\n\r\n@Exclude()\r\nexport class Transform {\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tprivate positionValue: Vector2 = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tprivate localPositionValue: Vector2 = null;\r\n\r\n\t@Expose()\r\n\tprivate rotationValue: number = null;\r\n\r\n\t@Expose()\r\n\tprivate localRotationValue: number = null;\r\n\r\n\t@Expose()\r\n\tpublic width: number = null;\r\n\r\n\t@Expose()\r\n\tpublic height: number = null;\r\n\r\n\tpublic gameObject: GameObject = null;\r\n\r\n\tpublic static instantiateGlobal(parent: Transform, globalPosition: Vector2, rotation: number, width: number, height: number): Transform {\r\n\t\tconst t = new Transform();\r\n\t\tt.positionValue = globalPosition;\r\n\t\tt.localPositionValue = parent == null ? globalPosition : globalPosition.subtract(parent.position);\r\n\t\tt.rotationValue = rotation;\r\n\t\tt.localRotationValue = rotation;\r\n\t\tt.width = width;\r\n\t\tt.height = height;\r\n\t\treturn t;\r\n\t}\r\n\r\n\tpublic static instantiateLocal(\r\n\t\t\tparent: Transform,\r\n\t\t\tlocalPosition: Vector2,\r\n\t\t\trotation: number,\r\n\t\t\twidth: number,\r\n\t\t\theight: number): Transform {\r\n\t\tconst t = new Transform();\r\n\t\tt.positionValue = parent.position.add(localPosition);\r\n\t\tt.localPositionValue = localPosition;\r\n\t\tt.rotationValue = parent.rotation + rotation;\r\n\t\tt.localRotationValue = rotation;\r\n\t\tt.width = width;\r\n\t\tt.height = height;\r\n\t\treturn t;\r\n\t}\r\n\r\n\tpublic get position(): Vector2 {\r\n\t\treturn this.positionValue;\r\n\t}\r\n\r\n\tpublic set position(value: Vector2) {\r\n\t\tthis.positionValue = value;\r\n\t}\r\n\r\n\tpublic get localPosition(): Vector2 {\r\n\t\treturn this.localPositionValue;\r\n\t}\r\n\r\n\tpublic set localPosition(value: Vector2) {\r\n\t\tthis.localPositionValue = value;\r\n\t\tTransformCalculateSystem.instance().registerForUpdate(this);\r\n\t}\r\n\r\n\tpublic get rotation(): number {\r\n\t\treturn this.rotationValue;\r\n\t}\r\n\r\n\tpublic set rotation(value: number) {\r\n\t\tthis.rotationValue = value;\r\n\t}\r\n\r\n\tpublic get localRotation() {\r\n\t\treturn this.localRotationValue;\r\n\t}\r\n\r\n\tpublic set localRotation(value: number) {\r\n\t\tthis.localRotationValue = value;\r\n\t\tTransformCalculateSystem.instance().registerForUpdate(this);\r\n\t}\r\n\r\n\tpublic toRect(): Rect {\r\n\t\tconst w2 = this.width / 2;\r\n\t\tconst h2 = this.height / 2;\r\n\t\treturn new Rect(this.position.x - w2, this.position.y - h2, this.width, this.height);\r\n\t}\r\n}\r\n","import { MouseInputEvent } from '../dto/mouse-input-event';\r\n\r\nexport abstract class AbstractInputAdapter {\r\n\tpublic key: Set<string> = new Set<string>();\r\n\tpublic keyUp: Set<string> = new Set<string>();\r\n\tpublic keyDown: Set<string> = new Set<string>();\r\n\r\n\tpublic mouseUp: Set<MouseInputEvent> = new Set<MouseInputEvent>();\r\n\tpublic mouseDown: Set<MouseInputEvent> = new Set<MouseInputEvent>();\r\n}\r\n","import { AbstractInputAdapter } from './abstract-input-adapter';\r\nimport { MouseButtonType, MouseInputEvent } from '../dto/mouse-input-event';\r\n\r\nexport class WebBrowserInputAdapter extends AbstractInputAdapter {\r\n\r\n\tprivate gameAreaElement: HTMLElement;\r\n\r\n\tconstructor(private document: Document) {\r\n\t\tsuper();\r\n\t\tthis.initEvents();\r\n\t}\r\n\r\n\tpublic frameEnd(): void {\r\n\t\tthis.keyDown.clear();\r\n\t\tthis.keyUp.clear();\r\n\t\tthis.mouseDown.clear();\r\n\t\tthis.mouseUp.clear();\r\n\t}\r\n\r\n\tprivate initEvents(): void {\r\n\t\tthis.document.addEventListener('keydown', (event: KeyboardEvent) => this.onKeyDown(event) );\r\n\t\tthis.document.addEventListener('keyup', (event: KeyboardEvent) => this.onKeyUp(event) );\r\n\t\tthis.gameAreaElement = this.document.getElementById('gameArea');\r\n\t\tthis.gameAreaElement.addEventListener('mousedown', (event: MouseEvent) => this.onMouseDown(event) );\r\n\t\tthis.gameAreaElement.addEventListener('mouseup', (event: MouseEvent) => this.onMouseUp(event) );\r\n\t}\r\n\r\n\tprivate onKeyDown(event: KeyboardEvent): void {\r\n\t\tthis.keyDown.add(event.code);\r\n\t\tthis.key.add(event.code);\r\n\t\tconsole.log(`keyDown ${event.code}`);\r\n\t}\r\n\r\n\tprivate onKeyUp(event: KeyboardEvent): void {\r\n\t\tthis.keyUp.add(event.code);\r\n\t\tthis.key.delete(event.code);\r\n\t\tconsole.log(`keyUp ${event.code}`);\r\n\t}\r\n\r\n\tprivate onMouseDown(event: MouseEvent): void {\r\n\t\tconst buttonType = event.button === 0 ? MouseButtonType.left : (event.button === 1 ? MouseButtonType.middle : MouseButtonType.right);\r\n\t\tconst mouseData = new MouseInputEvent(\r\n\t\t\tbuttonType,\r\n\t\t\tevent.pageX - this.gameAreaElement.offsetLeft, event.pageY - this.gameAreaElement.offsetTop);\r\n\t\tthis.mouseDown.add(mouseData);\r\n\t\tconsole.log(`mouseDown ${buttonType}: ${mouseData.coordinates.x}, ${mouseData.coordinates.y}`);\r\n\t}\r\n\r\n\tprivate onMouseUp(event: MouseEvent): void {\r\n\t\tconst buttonType = event.button === 0 ? MouseButtonType.left : (event.button === 1 ? MouseButtonType.middle : MouseButtonType.right);\r\n\t\tconst mouseData = new MouseInputEvent(\r\n\t\t\tbuttonType,\r\n\t\t\tevent.pageX - this.gameAreaElement.offsetLeft, event.pageY - this.gameAreaElement.offsetTop);\r\n\t\tthis.mouseUp.add(mouseData);\r\n\t\tconsole.log(`mouseUp ${buttonType}: ${mouseData.coordinates.x}, ${mouseData.coordinates.y}`);\r\n\t}\r\n}\r\n","import { Vector2 } from '../../common/vector2';\r\n\r\nexport enum MouseButtonType {\r\n\tleft = 'left',\r\n\tright = 'right',\r\n\tmiddle = 'middle',\r\n}\r\n\r\nexport class MouseInputEvent {\r\n\tpublic button: MouseButtonType;\r\n\tpublic coordinates: Vector2;\r\n\r\n\tconstructor(type: MouseButtonType, x: number, y: number) {\r\n\t\tthis.button = type;\r\n\t\tthis.coordinates = new Vector2(x, y);\r\n\t}\r\n}\r\n","import { IInputAdapter } from './adapters/i-input-adapter';\r\nimport { MouseInputEvent } from './dto/mouse-input-event';\r\n\r\nexport class Input {\r\n\r\n\tprivate static inputAdapters: IInputAdapter[] = [];\r\n\r\n\tpublic static getKey(key: string): boolean {\r\n\t\treturn Input.some((a: IInputAdapter) => a.key.has(key));\r\n\t}\r\n\tpublic static getKeyUp(key: string): boolean {\r\n\t\treturn Input.some((a: IInputAdapter) => a.keyUp.has(key));\r\n\t}\r\n\tpublic static getKeyDown(key: string): boolean {\r\n\t\treturn Input.some((a: IInputAdapter) => a.keyDown.has(key));\r\n\t}\r\n\r\n\tpublic static getMouseDown(): MouseInputEvent[] {\r\n\t\treturn Input.inputAdapters.reduce((events: MouseInputEvent[], adapter) => {\r\n\t\t\treturn events.concat(Array.from(adapter.mouseDown.values()));\r\n\t\t}, []);\r\n\t}\r\n\r\n\tpublic static getMouseUp(): MouseInputEvent[] {\r\n\t\treturn Input.inputAdapters.reduce((events: MouseInputEvent[], adapter) => {\r\n\t\t\treturn events.concat(Array.from(adapter.mouseUp.values()));\r\n\t\t}, []);\r\n\t}\r\n\r\n\tpublic static setAdapter(inputAdapter: IInputAdapter) {\r\n\t\tInput.inputAdapters.push(inputAdapter);\r\n\t}\r\n\r\n\tpublic static frameEnd(): void {\r\n\t\tInput.inputAdapters.forEach((a) => a.frameEnd());\r\n\t}\r\n\r\n\tprivate static some(predicate: (adapter: IInputAdapter) => boolean): boolean {\r\n\t\treturn Input.inputAdapters.some((a) => predicate(a));\r\n\t}\r\n}\r\n","import { GameObject } from '../game-structure/game-object';\r\nimport { CollisionGameComponent } from '../game-components/core/collision-game-component';\r\nimport { GameObjectCollection } from '../core/game-object-collection';\r\n\r\nexport class CollisionsProcessor {\r\n\tpublic static checkCollisions(rootGameObject: GameObject): void {\r\n\t\tconst components = GameObjectCollection.getAllComponents(CollisionGameComponent.name, rootGameObject) as CollisionGameComponent[];\r\n\t\tfor (let i = 0; i < components.length; i++) {\r\n\t\t\tcomponents[i].collisions.length = 0;\r\n\t\t}\r\n\t\tfor (let i = 0; i < components.length; i++) {\r\n\t\t\tconst firstComponent = components[i];\r\n\t\t\tfor (let p = i + 1; p < components.length; p++) {\r\n\t\t\t\tconst secondComponent = components[p];\r\n\t\t\t\tfirstComponent.collideWith(secondComponent);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","export class GameScreen {\r\n\r\n\tprivate static defaultScreen: GameScreen;\r\n\r\n\tpublic width: number;\r\n\tpublic height: number;\r\n\r\n\tpublic static getDefaultScreen(): GameScreen {\r\n\t\tif (GameScreen.defaultScreen == null) {\r\n\t\t\tGameScreen.defaultScreen = new GameScreen();\r\n\t\t}\r\n\t\treturn this.defaultScreen;\r\n\t}\r\n}\r\n","module.exports = \".gameMenuBlock {\\n  position: relative;\\n  width: 150px;\\n  height: 50px;\\n  margin: 120px auto;\\n  z-index: 2;\\n}\\n.gameMenuButton {\\n  width: 150px;\\n  height: 50px;\\n  background-color: green;\\n  color: white;\\n}\\n.gameArea {\\n  border: 0 solid red;\\n  min-width: 400px;\\n  min-height: 400px;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  background-color: #FFF;\\n  overflow: hidden;\\n  background-size: cover;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvYXBwLXJvb3QvQzovVXNlcnMvdml0YWwvLnJvb3QvcHJvamVjdHMvZ2l0aHViL0dpbm5lcjA2L1JlbW4wNi5naXRodWIuaW8vc3JjL2FwcC91aS9hcHAtcm9vdC9hcHAuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL3VpL2FwcC1yb290L2FwcC5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7QUNDRjtBREVBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7QUNBRjtBREdBO0VBQ0UsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxPQUFBO0VBQ0EsTUFBQTtFQUNBLFVBQUE7RUFFQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUNGRiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC1yb290L2FwcC5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIi5nYW1lTWVudUJsb2NrIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgbWFyZ2luOiAxMjBweCBhdXRvO1xuICB6LWluZGV4OiAyO1xufVxuXG4uZ2FtZU1lbnVCdXR0b24ge1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmdhbWVBcmVhIHtcbiAgYm9yZGVyOiAwIHNvbGlkIHJlZDtcbiAgbWluLXdpZHRoOiA0MDBweDtcbiAgbWluLWhlaWdodDogNDAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB6LWluZGV4OiAxO1xuICAvLyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi8uLi9hc3NldHMvaW1nL2JhY2tncm91bmQtc3BhY2UuanBnXCIpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuIiwiLmdhbWVNZW51QmxvY2sge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xuICBtYXJnaW46IDEyMHB4IGF1dG87XG4gIHotaW5kZXg6IDI7XG59XG4uZ2FtZU1lbnVCdXR0b24ge1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi5nYW1lQXJlYSB7XG4gIGJvcmRlcjogMCBzb2xpZCByZWQ7XG4gIG1pbi13aWR0aDogNDAwcHg7XG4gIG1pbi1oZWlnaHQ6IDQwMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgei1pbmRleDogMTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbiJdfQ== */\"","import { Component, HostListener, Inject, Injectable, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { Input } from '../../business/input/input';\nimport { WebBrowserInputAdapter } from '../../business/input/adapters/web-browser-input-adapter';\nimport { GameScreen } from '../../business/screen/game-screen';\nimport { GameManager } from '../../business/game-manager';\nimport { RestClient } from '../../business/core/http/rest-client';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.less']\n})\n@Injectable()\nexport class AppComponent implements OnInit {\n\n\tpublic width = 100;\n\tpublic height = 100;\n\n\tconstructor(@Inject(DOCUMENT) private document: Document, private http: HttpClient) {\n\t}\n\n\t@HostListener('window:resize', [])\n\tonResize() {\n\t\tconst margin = 0;\n\n\t\tconst screen = GameScreen.getDefaultScreen();\n\t\tscreen.width = window.innerWidth - margin;\n\t\tscreen.height = window.innerHeight - margin;\n\n\t\tthis.width = window.innerWidth - margin;\n\t\tthis.height = window.innerHeight - margin;\n\t}\n\n\tngOnInit() {\n\t\tsetTimeout(() => {\n\t\t\tthis.onResize();\n\t\t}, 0);\n\t\tInput.setAdapter(new WebBrowserInputAdapter(this.document));\n\t\tRestClient.httpClient = this.http;\n\t\tsetTimeout(() => {\n\t\t\tGameManager.instance().load();\n\t\t}, 10);\n\t}\n}\n","module.exports = \".game-object {\\n  position: absolute;\\n  background-size: cover;\\n  -webkit-transform: rotate(0);\\n          transform: rotate(0);\\n  box-sizing: border-box;\\n}\\n.star-ship {\\n  background-image: url('cruiser.png');\\n}\\n.bullet {\\n  background-image: url('bullet.png');\\n}\\n.asteroid {\\n  background-image: url('asteroid-icon-v2.png');\\n}\\n.half-transparent {\\n  opacity: 0.5;\\n}\\n.score-indicator {\\n  color: red;\\n  font-weight: bold;\\n  font-size: 21px;\\n}\\n.lives-indicator {\\n  position: relative;\\n}\\n.lives-indicator-element {\\n  position: absolute;\\n  background-size: cover;\\n  -webkit-transform: rotate(-90deg);\\n          transform: rotate(-90deg);\\n  background-image: url('cruiser.png');\\n  width: 25px;\\n  height: 25px;\\n  top: 0;\\n  left: 0;\\n}\\n.game-over-text {\\n  color: red;\\n  font-weight: bold;\\n  font-size: 100px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvaHRtbC1yZW5kZXJlci9nYW1lLW9iamVjdC9DOi9Vc2Vycy92aXRhbC8ucm9vdC9wcm9qZWN0cy9naXRodWIvR2lubmVyMDYvUmVtbjA2LmdpdGh1Yi5pby9zcmMvYXBwL3VpL2h0bWwtcmVuZGVyZXIvZ2FtZS1vYmplY3QvZ2FtZS1vYmplY3QuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL3VpL2h0bWwtcmVuZGVyZXIvZ2FtZS1vYmplY3QvZ2FtZS1vYmplY3QuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsNEJBQUE7VUFBQSxvQkFBQTtFQUNBLHNCQUFBO0FDQ0Q7QURFQTtFQUNDLG9DQUFBO0FDQUQ7QURHQTtFQUNDLG1DQUFBO0FDREQ7QURJQTtFQUNDLDZDQUFBO0FDRkQ7QURLQTtFQUNDLFlBQUE7QUNIRDtBRE1BO0VBQ0MsVUFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtBQ0pEO0FET0E7RUFDQyxrQkFBQTtBQ0xEO0FEUUE7RUFDQyxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsaUNBQUE7VUFBQSx5QkFBQTtFQUNBLG9DQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtBQ05EO0FEU0E7RUFDQyxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ1BEIiwiZmlsZSI6InNyYy9hcHAvdWkvaHRtbC1yZW5kZXJlci9nYW1lLW9iamVjdC9nYW1lLW9iamVjdC5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIi5nYW1lLW9iamVjdCB7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0YmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcblx0dHJhbnNmb3JtOiByb3RhdGUoMCk7XG5cdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5zdGFyLXNoaXAge1xuXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9jcnVpc2VyLnBuZ1wiKTtcbn1cblxuLmJ1bGxldCB7XG5cdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4vaW1nL2J1bGxldC5wbmdcIik7XG59XG5cbi5hc3Rlcm9pZCB7XG5cdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4vaW1nL2FzdGVyb2lkLWljb24tdjIucG5nXCIpO1xufVxuXG4uaGFsZi10cmFuc3BhcmVudCB7XG5cdG9wYWNpdHk6IDAuNTtcbn1cblxuLnNjb3JlLWluZGljYXRvciB7XG5cdGNvbG9yOiByZWQ7XG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRmb250LXNpemU6IDIxcHg7XG59XG5cbi5saXZlcy1pbmRpY2F0b3Ige1xuXHRwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5saXZlcy1pbmRpY2F0b3ItZWxlbWVudCB7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0YmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcblx0dHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcblx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi9pbWcvY3J1aXNlci5wbmdcIik7XG5cdHdpZHRoOiAyNXB4O1xuXHRoZWlnaHQ6IDI1cHg7XG5cdHRvcDogMDtcblx0bGVmdDogMDtcbn1cblxuLmdhbWUtb3Zlci10ZXh0IHtcblx0Y29sb3I6IHJlZDtcblx0Zm9udC13ZWlnaHQ6IGJvbGQ7XG5cdGZvbnQtc2l6ZTogMTAwcHg7XG59XG5cblxuXG4iLCIuZ2FtZS1vYmplY3Qge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIHRyYW5zZm9ybTogcm90YXRlKDApO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuLnN0YXItc2hpcCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4vaW1nL2NydWlzZXIucG5nXCIpO1xufVxuLmJ1bGxldCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4vaW1nL2J1bGxldC5wbmdcIik7XG59XG4uYXN0ZXJvaWQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9hc3Rlcm9pZC1pY29uLXYyLnBuZ1wiKTtcbn1cbi5oYWxmLXRyYW5zcGFyZW50IHtcbiAgb3BhY2l0eTogMC41O1xufVxuLnNjb3JlLWluZGljYXRvciB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDIxcHg7XG59XG4ubGl2ZXMtaW5kaWNhdG9yIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLmxpdmVzLWluZGljYXRvci1lbGVtZW50IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9jcnVpc2VyLnBuZ1wiKTtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xufVxuLmdhbWUtb3Zlci10ZXh0IHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMTAwcHg7XG59XG4iXX0= */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { GameObjectRenderInfo } from '../../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { split } from 'ts-node';\n\n@Component({\n\tselector: 'app-game-object',\n\ttemplateUrl: './game-object.component.html',\n\tstyleUrls: ['./game-object.component.less']\n})\nexport class GameObjectComponent implements OnInit {\n\n\t@Input()\n\tgameObjectRenderInfo: GameObjectRenderInfo;\n\n\tconstructor() {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tgetStyle(): any {\n\t\treturn Object.assign({\n\t\t\twidth: this.gameObjectRenderInfo.width + 'px',\n\t\t\theight: this.gameObjectRenderInfo.height + 'px',\n\t\t\tleft: this.gameObjectRenderInfo.left + 'px',\n\t\t\ttop: this.gameObjectRenderInfo.top + 'px',\n\t\t\ttransform: `rotate(${this.gameObjectRenderInfo.rotation}deg)`,\n\t\t\t'background-image': this.gameObjectRenderInfo.backgroundImage\n\t\t}, this.createCssObject(this.gameObjectRenderInfo.cssStyle));\n\t}\n\n\tprivate createCssObject(cssString: string): any {\n\t\tconst retObj = {};\n\t\tif (cssString == null) {\n\t\t\treturn retObj;\n\t\t}\n\t\tconst styles = cssString.split(';');\n\t\tstyles.forEach((style) => {\n\t\t\tif (style == null || style.indexOf(':') === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst stylePair = style.split(':');\n\t\t\tretObj[stylePair[0].trim()] = stylePair[1].trim();\n\t\t});\n\t\treturn retObj;\n\t}\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2h0bWwtcmVuZGVyZXIvaHRtbC1yZW5kZXJlci5jb21wb25lbnQubGVzcyJ9 */\"","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { GameObjectRenderInfo } from '../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { Subscription } from 'rxjs';\nimport { HtmlRendererService } from './html-renderer.service';\n\n@Component({\n  selector: 'app-html-renderer',\n  templateUrl: './html-renderer.component.html',\n  styleUrls: ['./html-renderer.component.less']\n})\nexport class HtmlRendererComponent implements OnInit, OnDestroy {\n\n\tgameObjectsRenderInfos: GameObjectRenderInfo[] = [];\n\n\tprivate subscription: Subscription = null;\n\n\tconstructor(private htmlRendererService: HtmlRendererService, private changeDetectorRef: ChangeDetectorRef) {\n\t}\n\n\tngOnInit() {\n\t\tthis.subscribeToGameObjects();\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.subscription.unsubscribe();\n\t}\n\n\tprivate subscribeToGameObjects(): void {\n\t\tthis.subscription = this.htmlRendererService.getGameObjectsRenderInfos().subscribe(gameObjectsRenderInfos => {\n\t\t\tthis.gameObjectsRenderInfos = gameObjectsRenderInfos;\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\t}\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Subject, Subscription } from 'rxjs';\nimport { GameObjectRenderInfo } from '../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { GameScene } from '../../business/game-structure/game-scene';\nimport { HtmlRendererGameComponent } from '../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\nimport { EventMessage, EventMessageType } from '../../business/events/event-message';\nimport { GameObject } from '../../business/game-structure/game-object';\nimport { GameEventManager } from '../../business/game-event-manager';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class HtmlRendererService implements OnDestroy {\n\tprivate subject = new BehaviorSubject<GameObjectRenderInfo[]>([]);\n\tprivate gameCalculatedSubscription: Subscription;\n\n\tconstructor() {\n\t\tthis.gameCalculatedSubscription = GameEventManager.events().subscribe((eventMessage) => {\n\t\t\tthis.processEvent(eventMessage);\n\t\t});\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.gameCalculatedSubscription.unsubscribe();\n\t\tthis.subject.complete();\n\t}\n\n\tpublic getGameObjectsRenderInfos(): Subject<GameObjectRenderInfo[]> {\n\t\treturn this.subject;\n\t}\n\n\tprivate render(gameScene: GameScene): void {\n\n\t\tconst allObjects = this.getAllGameObjects(gameScene.rootGameObject.children);\n\n\t\tconst renderInfos = allObjects.reduce((infos, go) => {\n\t\t\tconst renderer = go.getComponent('HtmlRendererGameComponent') as HtmlRendererGameComponent;\n\t\t\tif (renderer != null) {\n\t\t\t\tinfos.push(renderer.renderInfo);\n\t\t\t}\n\t\t\treturn infos;\n\t\t}, []);\n\t\tthis.subject.next(renderInfos);\n\t}\n\n\tprivate getAllGameObjects(gameObjects: GameObject[]): GameObject[] {\n\t\tlet res = [];\n\t\tgameObjects.forEach((go) => {\n\t\t\tif (!go.active) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tres.push(go);\n\t\t\tconst children = this.getAllGameObjects(go.children);\n\t\t\tres = res.concat(children);\n\t\t});\n\t\treturn res;\n\t}\n\n\tprivate processEvent(eventMessage: EventMessage): void {\n\t\tswitch (eventMessage.type) {\n\t\t\tcase EventMessageType.GameUpdate:\n\t\t\t\tthis.render(eventMessage.data as GameScene);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3N2Zy1yZW5kZXJlci9zdmctcmVuZGVyZXIuY29tcG9uZW50Lmxlc3MifQ== */\"","import { ChangeDetectorRef, Component, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { SvgRendererService } from './svg-renderer.service';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-svg-renderer',\n  templateUrl: './svg-renderer.component.html',\n  styleUrls: ['./svg-renderer.component.less']\n})\nexport class SvgRendererComponent implements OnInit, OnDestroy {\n\tsvgElements: SafeHtml = '';\n\n\t@Input()\n\tpublic width: number;\n\n\t@Input()\n\tpublic height: number;\n\n\tpublic get viewBoxValue(): string {\n\t\treturn `0 0 ${this.width} ${this.height}`;\n\t}\n\n\tprivate subscription: Subscription = null;\n\n\tconstructor(\n\t\tprivate svgRendererService: SvgRendererService,\n\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\tprivate sanitized: DomSanitizer) { }\n\n\tngOnInit() {\n\t\tthis.subscribeToSvgElements();\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.subscription.unsubscribe();\n\t}\n\n\tprivate subscribeToSvgElements(): void {\n\t\tthis.subscription = this.svgRendererService.getSvgElements().subscribe(svgElements => {\n\t\t\tthis.svgElements = this.sanitized.bypassSecurityTrustHtml(svgElements.join('\\n'));\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\t}\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Subject, Subscription } from 'rxjs';\nimport { GameObjectRenderInfo } from '../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { GameEventManager } from '../../business/game-event-manager';\nimport { EventMessage, EventMessageType } from '../../business/events/event-message';\nimport { GameScene } from '../../business/game-structure/game-scene';\nimport { GameObjectCollection } from '../../business/core/game-object-collection';\nimport { SvgRendererGameComponent } from '../../business/game-components/svg-renderer-game-component/svg-renderer-game-component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SvgRendererService implements OnDestroy {\n\tprivate subject = new BehaviorSubject<string[]>([]);\n\tprivate gameCalculatedSubscription: Subscription;\n\n\tconstructor() {\n\t\tthis.gameCalculatedSubscription = GameEventManager.events().subscribe((eventMessage) => {\n\t\t\tthis.processEvent(eventMessage);\n\t\t});\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.gameCalculatedSubscription.unsubscribe();\n\t\tthis.subject.complete();\n\t}\n\n\tpublic getSvgElements(): Subject<string[]> {\n\t\treturn this.subject;\n\t}\n\n\tprivate render(gameScene: GameScene): void {\n\t\tconst allComponents =\n\t\t\tGameObjectCollection.getAllComponents<SvgRendererGameComponent>(SvgRendererGameComponent.name, gameScene.rootGameObject);\n\n\t\tconst rendered = allComponents.reduce((res, component) => {\n\t\t\tres.push(component.svgElement);\n\t\t\treturn res;\n\t\t}, []);\n\t\tthis.subject.next(rendered);\n\t}\n\n\tprivate processEvent(eventMessage: EventMessage): void {\n\t\tswitch (eventMessage.type) {\n\t\t\tcase EventMessageType.GameUpdate:\n\t\t\t\tthis.render(eventMessage.data as GameScene);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}